<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
 <title>Desarrollo/ElementoToba - SIU-Toba - Trac</title><link rel="start" href="../../wiki.html" /><link rel="search" href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/search" /><link rel="help" href="../TracGuide.html" /><link rel="stylesheet" href="../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../chrome/common/css/wiki.css" type="text/css" /><link rel="icon" href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/favicon.ico" type="image/x-icon" /><link rel="shortcut icon" href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/favicon.ico" type="image/x-icon" /><link rel="alternate" href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/wiki/Desarrollo/ElementoToba?format=txt" title="Plain Text" type="text/plain" /><style type="text/css">
.wikipage h2 {border-bottom: 1px solid gray;}
</style>
 <script type="text/javascript" src="../../chrome/common/js/trac.js"></script>
</head>
<body>


<div id="banner">

<div id="header"><a id="logo" href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba"><img src="../../chrome/site/logo_toba_siu.gif" width="282" height="90" alt="Toba" /></a><hr /></div>

<form id="search" action="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/search" method="get">
 <div>
  <label for="proj-search">Search:</label>
  <input type="text" id="proj-search" name="q" size="10" accesskey="f" value="" />
  <input type="submit" value="Search" />
  <input type="hidden" name="wiki" value="on" />
  <input type="hidden" name="changeset" value="on" />
  <input type="hidden" name="ticket" value="on" />
 </div>
</form>



<div id="metanav" class="nav"><ul><li class="first"><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/login">Login</a></li><li><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/settings">Settings</a></li><li><a href="../TracGuide.html" accesskey="6">Help/Guide</a></li><li class="last"><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/about" accesskey="9">About Trac</a></li></ul></div>
</div>

<div id="mainnav" class="nav"><ul><li class="active first"><a href="../../wiki.html" accesskey="1">Wiki</a></li><li><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/timeline" accesskey="2">Timeline</a></li><li><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/roadmap" accesskey="3">Roadmap</a></li><li><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/browser">Browse Source</a></li><li><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/report">View Tickets</a></li><li class="last"><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/search" accesskey="4">Search</a></li></ul></div>
<div id="main">




<div id="ctxtnav" class="nav">
 <h2>Wiki Navigation</h2>
 <ul>
  <li><a href="../../wiki.html">Start Page</a></li>
  <li><a href="../TitleIndex.html">Title Index</a></li>
  <li><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/wiki/RecentChanges">Recent Changes</a></li>
  
   <li class="last"><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/wiki/Desarrollo/ElementoToba?action=history">Page History</a></li>
  
 </ul>
 <hr />
</div>

<div id="content" class="wiki">

 
  
  
   <div class="wikipage">
    <div id="searchable"><p>
<a href="../WikiStart.html">Inicio</a> / <a href="../Desarrollo.html">Desarrollo</a> / ElementoToba
</p>
<h1 id="ElementoToba">Elemento Toba</h1>
<p>
<i>(La discusion se centra sobre los dos elementos centrales del framework: item y objeto)</i>
</p>
<p>
La implementacion del concepto transversal <strong>elemento toba</strong> puede dividirse en:
</p>
<ul><li>A. <strong>Comportamiento</strong> runtime: Funcionamiento concreto del elemento, definido por las clases PHP nucleo/browser/clases/objeto_*.php para el caso de objetos y la clase 'nucleo/solicitud.php' para el item.
</li><li>B. <strong>Construcción</strong>: Tomar la definición del elemento de uno de los distintos medios (bd, archivo php, xml) e instanciarlo.
</li><li>C. <strong>Consultas</strong> sobre metadatos: Analizar una instancia particular del elemento y brindar servicios informativos.
</li><li>D. <strong>Administracion</strong> de metadatos: Crear elementos nuevos (editores), exportar elementos, importar elementos, convertir elementos entra las distintas representaciones, etc.
</li></ul><p>
Estos distintas vistas del elemento estan fuertemente acopladas: hay que pensar un balance optimo entre las 4, tomando en cuenta performance, duplicacion de informacion, etc.
</p>
<h2 id="C.ConsultassobreMETADATOS">C. Consultas sobre METADATOS</h2>
<h3 id="a1.Analisisdelasituacionactual">1. Analisis de la situacion actual</h3>
<p>
Actualmente el acceso a los <strong>metadatos</strong> de los elementos (el material base sobre el cual se debe construir mucha funcionalidad del administrador) esta muy disperso. Existen clases completamente independientes que fueron creadas en distintos momentos para resolver problemas especificos del administrador. La forma mas clara de presentarlos es separarlos de acuerdo al requerimiento que los origino:
</p>
<p>
<strong>1.1 Editor de permisos del item</strong>
</p>
<ul><li><i>nucleo/lib/arbol_items.php</i> : sabe tomar un conjunto de items, ordenarlos, ponerles permisos y filtrar por distintos parametros. Osea sería el elemento_conjunto_items o elemento_arbol_items.
</li><li><i>nucleo/lib/item.php</i> : Representa a un item particular, se le pueden hacer muchas consultas pero no sale de la definición de un item (no sabe cuales son sus objetos y demás).
</li></ul><p>
<i>Enfoque: operacion interactiva de gran cantidad de registros. Hace un solo query para todos los items.</i>
</p>
<p>
<strong>1.2. Exportacion/Importacion de elementos</strong>
</p>
<ul><li><i>api/elemento.php</i>: Un elemento, levanta la definicion de la tabla <strong>elemento_infra</strong> (una suerte de metainformación de la metainformción que permite analizar a un elemento_toba).
</li><li><i>api/elemento_item.php</i>: Representa también a un item particular.
</li><li><i>api/elemento_objeto.php</i>: Representa también a un objeto particular. Come existen distintos tipo de objetos, la definicion esta basada además en una tabla de metadatos <strong>apex_clase</strong>
</li></ul><p>
 
Este esquema fue adaptado despues para la generacion de documentacion en docbook.
</p>
<p>
<i>Enfoque: realizar procesos batch sobre los elementos, la performance no es una variable a tomar en cuenta. Se realizan varias consultas a la base por cada elemento levantado</i>
</p>
<p>
<strong>1.3. Vista del arbol de elementos que componen una operacion</strong>
</p>
<ul><li><i>api/estructura_item.php</i>: Representa graficamente la composicion de un ITEM, ofreciendo vinculos a los editores. Utiliza a la clase de abajo.
</li><li><i>api/estructura_objeto.php</i>: Representa graficamente la composicion de un OBJETO, ofreciendo vinculos a los editores.
</li></ul><p>
 
<i>Enfoque: operacion interactiva, de poca cantidad de elementos. Se realiza un query por cada elemento, pero nunca se carga a mas de un item (por lo tanto nunca hay mas de 18 elementos - operacion mas compleja del comechingones).</i>
 
</p>
<h3 id="a2.Refactorizaciones">2. Refactorizaciones</h3>
<p>
<strong>2.1 Unificar logica</strong>
</p>
<ul><li>P: Me parece que estas ultimas dos deberían fusionarse, lo que me frena es que la vista de catalogo del administrador usa entre 100 y 1000 de estos objetos y si cada uno hace estas SQL es un tiempazo (tambien cargan sus subelementos, los cuales tambien deberían cargarse a pedido). En definitiva necesita un moldaje bastante grande.
</li><li>R: Si, conceptualmente el caso 2 y 3 pueden fusionarse porque sirven para lo mismo (procesos intensivos sobre elementos puntales, para los cuales el tiempo no es un factor). Sin embargo se necesita otra solucion (Un mix con la 1, orientada a los grupos grandes) para manejar muchos objetos. 
</li></ul><p>
<strong>2.2 DB como soporte de metadatos</strong>
</p>
<ul><li>P: Las clases elemento_objeto_* andan bastante bien salvo que como hay una tabla apex_clase que mantiene alguna metainformación sólo se puede elegir la clase elemento_objeto_ci por ejemplo una vez que se consulta a esta tabla. ¿Es necesario contar con tambien con esta tabla? ¿Porque los metadatos no estan en las clases que heredan de elemento_toba?. Mantener datos el tabla trae genera indirecciones costosas en performance para conjuntos grandes de elementos.
</li><li>R: Estoy de acuerdo. Los tipo de objeto nunca van a ser tantos como para justificar usar una tabla como soporte de la abstraccion.
</li></ul></div>
   </div>
   
  
  <script type="text/javascript">
   addHeadingLinks(document.getElementById("searchable"));
  </script>
 
 
</div>

<script type="text/javascript">searchHighlight()</script>
<div id="altlinks"><h3>Download in other formats:</h3><ul><li class="first last"><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/wiki/Desarrollo/ElementoToba?format=txt">Plain Text</a></li></ul></div>

</div>

<div id="footer">
 <hr />
 <a id="tracpowered" href="../../../../external.html?link=http://trac.edgewall.com/"><img src="../../chrome/common/trac_logo_mini.png" height="30" width="107"
   alt="Trac Powered"/></a>
 <p class="left">
  Powered by <a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/about"><strong>Trac 0.9.2</strong></a><br />
  By <a href="../../../../external.html?link=http://www.edgewall.com/">Edgewall Software</a>.
 </p>
 <p class="right">
  Creado por el Programa SIU<br /><a href="../../../../external.html?link=http://www.siu.edu.ar/">http://www.siu.edu.ar</a>
 </p>
</div>



 </body>
</html>

