<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
 <title>Referencia/Eventos/Vinculo - SIU-Toba - Trac</title><link rel="start" href="../../../wiki.html" /><link rel="search" href="../../../../../external.html?link=https://localhost/trac/toba/search" /><link rel="help" href="../../TracGuide.html" /><link rel="stylesheet" href="../../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/common/css/wiki.css" type="text/css" /><link rel="icon" href="../../../../../external.html?link=https://localhost/favicon.ico" type="image/x-icon" /><link rel="shortcut icon" href="../../../../../external.html?link=https://localhost/favicon.ico" type="image/x-icon" /><link rel="alternate" href="../../../../../external.html?link=https://localhost/trac/toba/wiki/Referencia/Eventos/Vinculo?format=txt" title="Plain Text" type="text/plain" /><style type="text/css">
.wikipage h2 {border-bottom: 1px solid gray;}

/* trac php syntax highlighting */
.code-block {
    line-height: 1em;
    font-family: Courier, monotype;
    font-size: 12px;
    }
.h_question { color: #0000BB; } /* highlight.default */
.hphp_commentline { color: #FF8000; } /* highlight.comment */
.hphp_operator { color: #007700; } /* highlight.keyword */
.hphp_word { color: #007700; } /* highlight.keyword */
.hphp_default {}
.hphp_variable { color: #0000BB; } /* highlight.default */
.hphp_hstring { color: #DD0000; } /* highlight.string */
.hphp_simplestring { color: #DD0000; } /* highlight.string */
.h_tagunknown {}
.h_default {}

.code-keyword { color: #007700; font-weight: normal; }
.code-lang { color: #0000BB; font-weight: normal; }
.code-comment { color: #FF8000; font-weight: normal;}
.code-string { color: #DD0000; font-weight: normal;}

pre { padding:0; margin: 0}

.tablas-screenshots td:first-child { background-color: #D5CECD; width: 30%}
.tablas-screenshots table { width: 90%; border: 1px solid gray; }
.tablas-screenshots td { }
.tablas-screenshots table.wiki td { border: 1px solid gray; }

#tkt-changes-hdr {
    clear: both;
    padding-top: 30px;
}
.wiki-toc {
    clear: right;
    min-width: 160px;
    background-color:#F7F7F7;    
    border: 1px solid #D7D7D7;
}
.wiki-toc .active {
    background-color: #890C71;
    padding: 1px;
}
.wiki-toc .active a {
    color:white; 
}
.wiki-toc .active a:hover {
    background-color:  #890C71;
}
.indice-general {
/*    background-color: #FFFFDD;*/
}
.wikipage h1 {
    padding-top: 5px;
}
.wikipage h2 {
 padding: 2px;
}
.wikipage h1 {
    font-size: 28px;
}
.wikipage h2 {
    background-color: #890C71;
    color: white;
    padding-left: 10px;
    margin-top: 30px;
    font-size: 100%;
    border: 1px solid gray;
}
.wikipage h3 {
    font-size:100%;
}
li {
    margin-bottom:4px;
}
li * {
    margin-bottom:0;
}
/*a {
 color: #890C71;
}*/
@media print {
 .wiki-toc { display: none }
}
#tkt-changes-hdr, .tkt-chg-list { 
    font-size:80%;
    text-align:right;
}

</style>
 <script type="text/javascript" src="../../../chrome/common/js/trac.js"></script>
</head>

			<body>
			<table border='0' cellspacing='0' cellpadding='0' height='48' width='100%'>
			  <tr>
			
				<td class='header-top-left'><img src='../../../../../../api/media/logo.png' border='0'/></td>
			    <td class='header-top-right'>
			    		<img border='0' style='vertical-align: middle' src='../../../../../../api/media/wiki.png' />
			    	<a href='../../../../../../api/index.html'  title='Navegar hacia la documentación PHP'>
			    		<img border='0' style='vertical-align: middle' src='../../../../../../api/media/php-small.png' /></a> 
			    	<a href='../../../../../../api_js/index.html'  title='Navegar hacia la documentación Javascript'>    		
			    	<img border='0' style='vertical-align: middle' src='../../../../../../api/media/javascript-small.png' /></a>
			  </tr>
			
			  <tr>
			    <td colspan='2' class='header-menu'>
			  		  [ <a href='http://desarrollos2.siu.edu.ar/trac/toba/wiki/Referencia/Eventos/Vinculo' title='El sitio online contiene contenidos mas detallados y actualizados'
						class='menu'>Ver online</a> ]
			    </td>
			
			  </tr>
			  <tr><td colspan='2' class='header-line'><img src='../../../../../../api/media/empty.png' width='1' height='1' border='0' alt=''  /></td></tr>
			</table>
		


<div id="banner">

<div id="header"><a id="logo" href="../../../../../external.html?link=https://localhost/trac/toba"><img src="../../../chrome/site/logo_toba_siu.gif" width="282" height="90" alt="Toba" /></a><hr /></div>

<form id="search" action="../../../../../external.html?link=https://localhost/trac/toba/search" method="get">
 <div>
  <label for="proj-search">Search:</label>
  <input type="text" id="proj-search" name="q" size="10" accesskey="f" value="" />
  <input type="submit" value="Search" />
  <input type="hidden" name="wiki" value="on" />
  <input type="hidden" name="changeset" value="on" />
  <input type="hidden" name="ticket" value="on" />
 </div>
</form>



<div id="metanav" class="nav"><ul><li class="first"><a href="../../../../../external.html?link=https://localhost/trac/toba/login">Login</a></li><li><a href="../../../../../external.html?link=https://localhost/trac/toba/settings">Settings</a></li><li><a href="../../TracGuide.html" accesskey="6">Help/Guide</a></li><li class="last"><a href="../../../../../external.html?link=https://localhost/trac/toba/about">About Trac</a></li></ul></div>
</div>

<div id="mainnav" class="nav"><ul><li class="active first"><a href="../../../wiki.html" accesskey="1">Wiki</a></li><li><a href="../../../../../external.html?link=https://localhost/trac/toba/timeline" accesskey="2">Timeline</a></li><li><a href="../../../../../external.html?link=https://localhost/trac/toba/browser">Browse Source</a></li><li class="last"><a href="../../../../../external.html?link=https://localhost/trac/toba/search" accesskey="4">Search</a></li></ul></div>
<div id="main">




<div id="ctxtnav" class="nav">
 <h2>Wiki Navigation</h2>
 <ul>
  <li><a href="../../../wiki.html">Start Page</a></li>
  <li><a href="../../TitleIndex.html">Title Index</a></li>
  <li><a href="../../../../../external.html?link=https://localhost/trac/toba/wiki/RecentChanges">Recent Changes</a></li>
  
   <li class="last"><a href="../../../../../external.html?link=https://localhost/trac/toba/wiki/Referencia/Eventos/Vinculo?action=history">Page History</a></li>
  
 </ul>
 <hr />
</div>

<div id="content" class="wiki">

 
  
  
   <div class="wikipage">
    <div id="searchable"><p>
<div class="wiki-toc indice-general"><h4>Indice General</h4><ul><li><a href="../../Instalacion.html">Instalación</a></li><li><a href="../../Referencia.html">Conceptos Básicos</a></li><li><a href="../Objetos.html">Componentes</a></li><li><a href="../Eventos.html">Eventos</a></li><li><a href="../FuenteDatos.html">Fuentes de Datos</a></li><li><a href="../Objetos/Persistencia.html">Persistencia</a></li><li><a href="../../Tutorial.html">Tutorial</a></li><li><a href="../../Proyectos/Referencia.html">Proyecto Referencia</a></li><li><a href="../../../../../external.html?link=https://localhost/toba_editor_trunk/doc/api/index.html"><img src="../../../../../toba_editor_trunk/doc/api/media/php-small.png" style="vertical-align: middle"/> API PHP</a><li><a href="../../../../../external.html?link=https://localhost/toba_editor_trunk/doc/api_js/index.html"><img src="../../../../../toba_editor_trunk/doc/api/media/javascript-small.png" style="vertical-align: middle"/> API Javascript</a></ul></div>
<div class="wiki-toc"><h4>En esta página</h4><ol><li><a href="#Modificaciondevinculosentiempodeejecucion">Modificacion de vinculos en tiempo de ejecucion</a><ol><li><a href="#ExtensionenPHP">Extension en PHP</a></li><li>
<a href="#APIdelaclasevinculo">API de la clase <strong>vinculo</strong></a></li><li>
<a href="#ExtensionenJavascript">Extension en Javascript</a></li><li>
<a href="#APIdelaclasevinculador">API de la clase <strong>vinculador</strong></a></li></ol></li></ol></li></ol></div>
<a href="../../WikiStart.html">Inicio</a> / <a href="../../Referencia.html">Referencia</a> / <a href="../Eventos.html">Eventos</a> / Vinculo
</p>
<h1 id="Vinculos">Vinculos</h1>
<p>
Un vinculo es una accion predefinida que permite asociar la activacion de un boton con la carga de un nuevo item, ya sea en la pantalla actual, en un frame distinto o en un popup. Para definir un evento como vinculo es necesario entrar en las propiedades extendidas del mismo y establecer el campo llamado <strong>"Accion predefinida"</strong> en el valor <strong>"Vinculo"</strong>. 
</p>
<p>
<a href="../../../attachment/wiki/Referencia/Eventos/Vinculo/vinculos.html" style="padding:0; border:none"><img src="../../../../../external.html?link=https://localhost/trac/toba/attachment/wiki/Referencia/Eventos/Vinculo/vinculos.gif?format=raw" /></a>
</p>
<p>
En la definicion del vinculo puede explicitarse el item destino, si la apertura es en un popup, etc.
</p>
<h2 id="Modificaciondevinculosentiempodeejecucion">Modificacion de vinculos en tiempo de ejecucion</h2>
<p>
En algunos casos es necesario modificar un vinculo en base a condiciones que se desconocen hasta la ejecucion de la operacion. Para resolver estos caso existe un conjunto de metodos que pueden introducirse extendiendo cualquier elemento de interface.
</p>
<h3 id="ExtensionenPHP">Extension en PHP</h3>
<p>
Para modificar un vinculo en php es necesario escribir en la subclase el metodo <strong><tt>modificar_vinculo__[id_evento]( $vinculo )</tt></strong> (donde la primera parte es fija y la ultima es el identificador del evento cuyo vinculo se desea modificar). Este metodo recibe como parametro un objeto de la clase vinculo (cuya api se describe mas abajo) para realizar sobre el mismo las modificaciones necesarias. 
</p>
<p>
<i>Ejemplo</i>: Suponiendo que el evento se llama 'detalle' y que el item a abrir espera un parametro dinamico denominado 'dia', la customizacion del vinculo seria la siguiente:
</p>
<pre class="wiki">	function modificar_vinculo__detalle( $vinculo )
	{
		$vinculo-&gt;agregar_parametro( 'dia', $this-&gt;dia_seleccionado );
	}
</pre>
<p>
En el caso del <strong>objeto_ei_cuadro</strong>, para los eventos definidos <strong>sobre fila</strong> existe una metodo distinto que permite reconocer la fila sobre la cual se esta reescribiendo el evento. El mismo se llama <strong><tt>modificar_vinculo_fila__[id_evento]( $vinculo, $fila )</tt></strong> donde el primer parametro es el objeto vinculo y el segundo la fila actual.
</p>
<p>
<i>Ejemplo</i>: Suponiendo que se desea crear un vinculo cuyo item de destino dependa de valores conocidos dentro de la fila, la extension deberia ser algo parecido a esto:
</p>
<pre class="wiki">	function modificar_vinculo_fila__seleccion($vinculo, $fila)
	{
		$vinculo-&gt;set_item(	$this-&gt;datos[$fila]['editor_proyecto'],
					$this-&gt;datos[$fila]['editor_item'] );
	}
</pre>
<p>
La api disponible para modificar vinculos se describe a continuacion:
</p>
<h3 id="APIdelaclasevinculo">API de la clase <strong>vinculo</strong></h3>
<ul><li>set_item( $proyecto, $item )
</li><li>get_item()
</li><li>get_proyecto()
</li><li>set_parametros( $parametros )
</li><li>agregar_parametro($clave, $valor)
</li><li>get_parametros()
</li><li>set_opciones($datos)
</li><li>get_opciones()
</li><li>agregar_opcion($clave, $valor)
</li><li>activar_popup()
</li><li>desactivar_popup()
</li><li>estado_popup()
</li><li>set_popup_parametros($parametros)
</li><li>get_popup_parametros()
</li><li>set_target($id)
</li><li>get_target()
</li></ul><h3 id="ExtensionenJavascript">Extension en Javascript</h3>
<p>
Existen dos casos en los que puede ser necesario modificar vinculos en el cliente: algun valor dinamico de la pantalla desea informarse al item subsiguiente, o la ejecucion de la vinculacion desea cancelarse. 
Para resolver estos casos es necesario extender la clase javascript del objeto en cuestion y agregar el metodo <strong><tt>modificar_vinculo__[id_evento]( id_vinculo )</tt></strong>. En este caso, el parametro de la funcion no es un objeto de tipo vinculo sino un ID que referencia una posicion en un objeto denominado <strong>vinculador</strong>, disponible en el entorno de ejecucion de JS. Con ese ID y referenciando a esta clase es posible manipular el vinculo.
</p>
<p>
<i>Ejemplo</i>: En este caso se desea invocar un item con el valor que cargo el usuario en el campo dia.
</p>
<pre class="wiki">	function extender_objeto_js()
	{
		echo &#34;{$this-&gt;objeto_js}.modificar_vinculo__popup = function(id_vinculo){
                      parametros = { dia = this.ef('dia').valor() };
		      vinculador.agregar_parametros(id_vinculo, parametros);
	        }&#34;;
	}
</pre>
<h3 id="APIdelaclasevinculador">API de la clase <strong>vinculador</strong></h3>
<ul><li>agregar_parametros()
</li><li>desactivar_vinculo()
</li><li>activar_vinculo()
</li></ul></div>
   </div>
   
    <h3 id="tkt-changes-hdr">Attachments</h3>
    <ul class="tkt-chg-list"><li class="tkt-chg-change"><a href="../../../attachment/wiki/Referencia/Eventos/Vinculo/vinculos.html">vinculos.gif</a> (3.2 kB) - added by juan on 04/26/06 03:24:32.</li>
    </ul>
  
  
  <script type="text/javascript">
   addHeadingLinks(document.getElementById("searchable"));
  </script>
 
 
</div>

<script type="text/javascript">searchHighlight()</script>
<div id="altlinks"><h3>Download in other formats:</h3><ul><li class="first last"><a href="../../../../../external.html?link=https://localhost/trac/toba/wiki/Referencia/Eventos/Vinculo?format=txt">Plain Text</a></li></ul></div>

</div>

<div id="footer">
 <hr />
 <a id="tracpowered" href="../../../../../external.html?link=http://trac.edgewall.com/"><img src="../../../chrome/common/trac_logo_mini.png" height="30" width="107"
   alt="Trac Powered"/></a>
 <p class="left">
  Powered by <a href="../../../../../external.html?link=https://localhost/trac/toba/about"><strong>Trac 0.9.5</strong></a><br />
  By <a href="../../../../../external.html?link=http://www.edgewall.com/">Edgewall Software</a>.
 </p>
 <p class="right">
  Creado por el SIU<br /><a href="../../../../../external.html?link=http://www.siu.edu.ar/">http://www.siu.edu.ar</a>
 </p>
</div>



 </body>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>

