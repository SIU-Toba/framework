<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
 <title>Referencia/Objetos/ei_cuadro - SIU-Toba - Trac</title><link rel="start" href="../../../wiki.html" /><link rel="search" href="../../../../../external.html?link=https://localhost/trac/toba/search" /><link rel="help" href="../../TracGuide.html" /><link rel="stylesheet" href="../../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../../chrome/common/css/wiki.css" type="text/css" /><link rel="icon" href="../../../../../external.html?link=https://localhost/favicon.ico" type="image/x-icon" /><link rel="shortcut icon" href="../../../../../external.html?link=https://localhost/favicon.ico" type="image/x-icon" /><link rel="alternate" href="../../../../../external.html?link=https://localhost/trac/toba/wiki/Referencia/Objetos/ei_cuadro?format=txt" title="Plain Text" type="text/plain" /><style type="text/css">
.wikipage h2 {border-bottom: 1px solid gray;}

/* trac php syntax highlighting */
.code-block {
    line-height: 1em;
    font-family: Courier, monotype;
    font-size: 12px;
    }
.h_question { color: #0000BB; } /* highlight.default */
.hphp_commentline { color: #FF8000; } /* highlight.comment */
.hphp_operator { color: #007700; } /* highlight.keyword */
.hphp_word { color: #007700; } /* highlight.keyword */
.hphp_default {}
.hphp_variable { color: #0000BB; } /* highlight.default */
.hphp_hstring { color: #DD0000; } /* highlight.string */
.hphp_simplestring { color: #DD0000; } /* highlight.string */
.h_tagunknown {}
.h_default {}

.code-keyword { color: #007700; font-weight: normal; }
.code-lang { color: #0000BB; font-weight: normal; }
.code-comment { color: #FF8000; font-weight: normal;}
.code-string { color: #DD0000; font-weight: normal;}
</style>
 <script type="text/javascript" src="../../../chrome/common/js/trac.js"></script>
</head>

			<body>
			<table border='0' cellspacing='0' cellpadding='0' height='48' width='100%'>
			  <tr>
			
				<td class='header-top-left'><img src='../../../../../../api/media/logo.png' border='0'/></td>
			    <td class='header-top-right'>
			    		<img border='0' style='vertical-align: middle' src='../../../../../../api/media/wiki.png' />
			    	<a href='../../../../../../api/index.html'  title='Navegar hacia la documentación PHP'>
			    		<img border='0' style='vertical-align: middle' src='../../../../../../api/media/php-small.png' /></a> 
			    	<a href='../../../../../../api_js/index.html'  title='Navegar hacia la documentación Javascript'>    		
			    	<img border='0' style='vertical-align: middle' src='../../../../../../api/media/javascript-small.png' /></a>
			  </tr>
			
			  <tr>
			    <td colspan='2' class='header-menu'>
			  		  [ <a href='http://desarrollos2.siu.edu.ar/trac/toba/wiki/Referencia/Objetos/ei_cuadro' title='El sitio online contiene contenidos mas detallados y actualizados'
						class='menu'>Ver online</a> ]
			    </td>
			
			  </tr>
			  <tr><td colspan='2' class='header-line'><img src='../../../../../../api/media/empty.png' width='1' height='1' border='0' alt=''  /></td></tr>
			</table>
		


<div id="banner">

<div id="header"><a id="logo" href="../../../../../external.html?link=https://localhost/trac/toba"><img src="../../../chrome/site/logo_toba_siu.gif" width="282" height="90" alt="Toba" /></a><hr /></div>

<form id="search" action="../../../../../external.html?link=https://localhost/trac/toba/search" method="get">
 
</form>



<div id="metanav" class="nav"><ul><li class="first"><a href="../../../../../external.html?link=https://localhost/trac/toba/login">Login</a></li><li><a href="../../../../../external.html?link=https://localhost/trac/toba/settings">Settings</a></li><li><a href="../../TracGuide.html" accesskey="6">Help/Guide</a></li><li class="last"><a href="../../../../../external.html?link=https://localhost/trac/toba/about">About Trac</a></li></ul></div>
</div>

<div id="mainnav" class="nav"><ul><li class="active first last"><a href="../../../wiki.html" accesskey="1">Wiki</a></li></ul></div>
<div id="main">




<div id="ctxtnav" class="nav">
 <h2>Wiki Navigation</h2>
 <ul>
  <li><a href="../../../wiki.html">Start Page</a></li>
  <li><a href="../../TitleIndex.html">Title Index</a></li>
  <li><a href="../../../../../external.html?link=https://localhost/trac/toba/wiki/RecentChanges">Recent Changes</a></li>
  
   <li class="last"><a href="../../../../../external.html?link=https://localhost/trac/toba/wiki/Referencia/Objetos/ei_cuadro?action=history">Page History</a></li>
  
 </ul>
 <hr />
</div>

<div id="content" class="wiki">

 
  
  
   <div class="wikipage">
    <div id="searchable"><p>
<a href="../../WikiStart.html">Inicio</a> / <a href="../../Referencia.html">Referencia</a> / <a href="../Objetos.html">Objetos</a> / ei_cuadro
</p>
<h1 id="CuadroSimple">Cuadro Simple</h1>
<p>
Un ei_cuadro es una grilla de registros pensados para visualización. Es común que cada uno de estos registros tenga identidad propia, por lo que el cuadro permite <i>seleccionarla</i> a través de eventos.
</p>
<h2 id="Definición">Definición</h2>
<p>
En la definición del cuadro se incluye:
</p>
<ul><li>Columnas clave: Aquí se listan las clave del registro, si es que la tiene. Es de especial utilidad para cuando se desean incluir eventos asociados a los registros (por ejemplo <i>seleccion</i>). A estos eventos se les enviará sólo el contenido de estas columnas en un arreglo, en el caso que sean claves múltiples, o directamente el valor en caso de ser única clave.
</li><li>Paginar: Establece si el cuadro podrá ser visualizado en varias páginas diferentes, función especialmente útil cuando se espera que el conjunto de datos a mostrar sea extenso.
</li><li>Ordenar: Indica si el usuario tiene posibilidad de ordenar el conjunto de datos a partir de alguna columna.
</li><li>EOF: El EOF se muestra cuando no hay ningún registro en la carga, existe un mensaje por defecto asociado, éste puede ser modificado o directamente ocultado al cliente.
</li></ul><h2 id="Carga">Carga</h2>
<p>
Además del <a class="wiki" href="../Eventos.html">evento</a> de carga común a los objetos de interface, existe una forma alternativa de cargar los datos al cuadro especificando un <a class="wiki" href="../Dao.html">DAO</a> en la definición del cuadro, allí se debe incluir:
</p>
<ul><li>DAO(nucleo): Indica el nombre del DAO definido en el sección EXT del administrador.
</li><li>DAO(método): El nombre del método (definido en la clase núcleo del DAO) que cargará los datos en el cuadro.
</li></ul><h2 id="Paginado">Paginado</h2>
<p>
Si en la definición del cuadro se especifica que podrá ser paginado, además del número de registros por página es necesario seleccionar un <strong>tipo de paginado</strong>:
</p>
<ul><li><i>Propio</i>: Es la opción más adecuada cuando el conjunto de registros a mostrar es pequeño, y por lo tanto el hecho de que el CI entregue al cuadro el total de los datos no representa una sobrecarga considerable. En este caso la lógica del paginado es propia del cuadro, y por lo tanto no se requieren consideraciones especiales a la hora de aplicarlo.
</li><li><i>A cargo del CI</i>: Esta alternativa permite que el CI entregue los datos parciales al cuadro, obteniendo el tamaño de página y la página actual mediante las funciones <i>get_tamanio_pagina()</i> y <i>get_pagina_actual()</i>, respectivamente. A partir de estos datos, el evento carga del CI determinará cuál es el subconjunto de registros que espera el cuadro. Además, el propio CI debe <del>agregar un evento <i>cant_reg</i></del> notificar durante la configuración la cantidad total de registros (método <tt>set_total_registros</tt>), que le permitirá al cuadro calcular así el número de páginas.
</li></ul><h2 id="Ordenamiento">Ordenamiento</h2>
<p>
Cuando desde el editor se activa la posibilidad de ordenamiento en el cuadro, se permite al usuario seleccionar un orden Ascendente o Descendente en una columna. El ordenamiento de los datos puede estar a cargo de:
</p>
<ul><li>El CI contenedor. Si así se decide se debe escuchar el evento <tt>evt__idcuadro__ordenar</tt> que recibe como parametro un arreglo conteniendo el sentido y la columna del orden. Por ejemplo: <tt>array('sentido' =&gt; 'asc', 'columna' =&gt; 'importe');</tt>. Estas opciones deberían incidir en el mecanismo de recepción de datos (típicamente el ORDER BY de una consulta SQL).
</li><li>El mismo cuadro: En caso que el evento no se escuche, el cuadro tomará la iniciativa de ordenar por sí mismo el set de datos. Para esto debe tener el conjunto completo de datos. Si por ejemplo el cuadro está páginado y sólo se carga la página actual, el cuadro sólo podrá ordenar esa página.
</li></ul><h2 id="Modelosdeevento">Modelos de evento</h2>
<p>
El cuadro posee el modelo de eventos <i>seleccion</i> con un evento con el mismo nombre. El evento selección es uno que se adhiere a nivel de registro, como parámetro envía los valores de las columnas claves del registro seleccionado en forma de arreglo asociativo. Esta selección cambia el estilo visual de la fila seleccionada, es responsabilidad del contenedor el determinar cuando este estilo deja de aplicar (porque por ejemplo se cancelo su edición). Para esto existe un método <strong>deseleccionar</strong> asociado al cuadro.
</p>
<p>
Cuando se agregan eventos particulares se puede especificar que el evento es a nivel de una fila y no global del cuadro con la propiedad 'sobre_fila'. Esto va a permitir que el evento sea lanzado de manera similar al <i>seleccion</i>, es decir con las claves de la fila desde donde se lanzó el evento. A manera gráfica estos eventos van a ser posicionados a un lado de cada fila del cuadro.
</p>
<h3 id="Filtradodeeventosporfila">Filtrado de eventos por fila</h3>
<p>
La precencia o ausencia de un evento (a nivel de fila y no global) puede depender del contenido de cada fila. Para controlar el comportamiento de este tipo de eventos debe existir un método con el nombre <i><tt>filtrar_evt__nombre_evento</tt></i>. El método recibe como parámetro el número de fila en el cuadro y en caso de retornar verdadero se activa el evento sobre la fila en cuestión. 
</p>
<h2 id="CortesdeControl">Cortes de Control</h2>
<p>
<strong>PENDIENTE</strong>
</p>
<h2 id="Ejemplos">Ejemplos</h2>
<ul><li>Existe un ejemplo de un filtro junto a un cuadro en el proyecto de <a class="wiki" href="../../Proyectos/Referencia.html">Referencia</a>, ítem <i>Objetos/ei_filtro - ei_cuadro</i>.
</li><li>Un ejemplo de un cuadro con paginado a cargo del CI puede encontrarse en el proyecto <a class="wiki" href="../../Proyectos/Referencia.html">Referencia</a>, ítem <i>Objetos/ei_cuadro - paginado</i>.
</li></ul></div>
   </div>
   
  
  <script type="text/javascript">
   addHeadingLinks(document.getElementById("searchable"));
  </script>
 
 
</div>

<script type="text/javascript">searchHighlight()</script>
<div id="altlinks"><h3>Download in other formats:</h3><ul><li class="first last"><a href="../../../../../external.html?link=https://localhost/trac/toba/wiki/Referencia/Objetos/ei_cuadro?format=txt">Plain Text</a></li></ul></div>

</div>

<div id="footer">
 <hr />
 <a id="tracpowered" href="../../../../../external.html?link=http://trac.edgewall.com/"><img src="../../../chrome/common/trac_logo_mini.png" height="30" width="107"
   alt="Trac Powered"/></a>
 <p class="left">
  Powered by <a href="../../../../../external.html?link=https://localhost/trac/toba/about"><strong>Trac 0.9.5</strong></a><br />
  By <a href="../../../../../external.html?link=http://www.edgewall.com/">Edgewall Software</a>.
 </p>
 <p class="right">
  Creado por el SIU<br /><a href="../../../../../external.html?link=http://www.siu.edu.ar/">http://www.siu.edu.ar</a>
 </p>
</div>



 </body>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>

