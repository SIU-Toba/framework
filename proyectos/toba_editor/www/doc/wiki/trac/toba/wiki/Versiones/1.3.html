<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="../../../../external.html?link=http://www.w3.org/1999/xhtml">
  
  

  


  

  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
    <title>
      Versiones/1.3.0 – SIU-Toba
    </title>
        <link rel="search" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/search" />
        <link rel="help" href="../TracGuide.html" />
        <link rel="alternate" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/wiki/Versiones/1.3.0?format=txt" type="text/x-trac-wiki" title="Plain Text" />
        <link rel="up" href="../Versiones.html" title="View parent page" />
        <link rel="start" href="../../wiki.html" />
        <link rel="stylesheet" href="../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../chrome/common/css/wiki.css" type="text/css" />
        <link rel="shortcut icon" href="../../../../external.html?link=https://repositorio.siu.edu.ar/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="../../../../external.html?link=https://repositorio.siu.edu.ar/favicon.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/search/opensearch" title="Search SIU-Toba" />
    <script type="text/javascript" src="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/chrome/common/js/jquery.js"></script><script type="text/javascript" src="../../chrome/common/js/trac.js"></script><script type="text/javascript" src="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/trac/toba/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor("Link to this section");
      });
    </script>
    <script type="text/javascript" src="../../chrome/site/mootools.js"></script>
    <script type="text/javascript" src="../../chrome/site/slimbox.js"></script>
    <link rel="stylesheet" href="../../chrome/site/portada.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../chrome/site/slimbox.css" type="text/css" media="screen" />
    <a style="position: absolute; top: 5px; left:5px;border-bottom:none !important;" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba"><img src="../../chrome/site/logo_toba_siu.gif" width="282" height="90" alt="Toba" /></a>
    <link rel="stylesheet" type="text/css" href="../../chrome/site/style.css" />
  </head>
  <body>
<a style="position: absolute; top: 5px; left:5px;border-bottom:none !important;" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba"><img src="../../chrome/site/logo_toba_siu_original.gif" width="282" height="90" alt="SIU-Toba" /></a>
    <div id="siteheader">
    </div>
    <div id="banner">
      <div id="header">
        <a id="logo" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba"><img src="../../chrome/site/logo_toba_siu.gif" alt="Toba" height="90" width="282" /></a>
      </div>
      <form id="search" action="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/login">Login</a></li><li><a href="../TracGuide.html">Help/Guide</a></li><li><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/about">About Trac</a></li><li class="last"><a href="../../prefs.html">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="../../wiki.html">Wiki</a></li><li><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline">Timeline</a></li><li><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/roadmap">Roadmap</a></li><li><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/browser">Browse Source</a></li><li><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/query">View Tickets</a></li><li class="last"><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/search">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../Versiones.html">Up</a></li><li><a href="../WikiStart.html">Start Page</a> / <a href="../Versiones.html">Versiones</a> / 1.3.0</li><li><a href="../TitleIndex.html">Index</a></li><li><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/wiki/Versiones/1.3.0?action=history">History</a></li><li class="last"><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/wiki/Versiones/1.3.0?action=diff&amp;version=46">Last Change</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <p class="path noprint">
        <a class="pathentry" title="View Versiones" href="../Versiones.html">Versiones</a><span class="pathentry sep">/</span><a class="pathentry" title="View Versiones/1.3.0" href="1.3.html">1.3.0</a>
        <br style="clear: both" />
      </p>
      <div class="wikipage searchable">
        
          <h1 id="CambiosVersión1.3">Cambios Versión 1.3</h1>
<ul><li>Fecha: 13/03/09
</li><li>Rama con actualizaciones: <a class="source" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/browser/trunk_versiones/1.3">source:trunk_versiones/1.3</a>
</li><li>Revisiones trunk involucradas: <a class="changeset" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/changeset/3486" title="Trunk: Cuando se crea el proyecto se le da por defecto version 1.0.0">[3486]</a> a <a class="changeset" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/changeset/3975" title="Trunk:
 * toba_referencia: se cambian parametros de un vinculo en el ...">[3975]</a>
</li></ul><h2 id="MejorasdeSeguridad">Mejoras de Seguridad</h2>
<ul><li><strong>Ataques inyección SQL:</strong> Se revisaron todas las consultas ejecutadas por el núcleo para evitar vulnerabilidades. De todas formas la mayoría de las consultas/comandos SQL son ejecutados por el proyecto, por lo que recomendamos en toda función que realiza una consulta o comando SQL y reciba parámetros que influyan en el armado del mismo, usar alguna de las siguientes técnicas:
<ul><li><i>Quotear</i> todos los parámetros. Es la forma más similar a como se venía trabajando, tener en cuenta que el quote siempre agrega comillas por lo que no debemos agregarlas en la SQL:
<div class="code"><pre><span class="cp">&lt;?php</span>
    <span class="k">function</span> <span class="nf">consultar</span><span class="p">(</span><span class="nv">$datos</span><span class="p">)</span>
    <span class="p">{</span>   
        <span class="nv">$datos</span> <span class="o">=</span> <span class="nx">quote</span><span class="p">(</span><span class="nv">$datos</span><span class="p">);</span>
        <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">"
            SELECT a,b,c FROM tabla
            WHERE
                        x = </span><span class="si">{</span><span class="nv">$datos</span><span class="p">[</span><span class="s1">'x'</span><span class="p">]</span><span class="si">}</span><span class="s2">
                AND y = </span><span class="si">{</span><span class="nv">$datos</span><span class="p">[</span><span class="s1">'y'</span><span class="p">]</span><span class="si">}</span><span class="s2">
        "</span><span class="p">;</span>
        <span class="k">return</span> <span class="nx">toba</span><span class="o">::</span><span class="na">db</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">consultar</span><span class="p">(</span><span class="nv">$datos</span><span class="p">);</span>
    <span class="p">}</span>
<span class="cp">?&gt;</span><span class="x">
</span></pre></div></li><li>Usar sentencias preparadas. Es la forma más segura pero requiere modificar más radicalmente las consultas y comandos.
<div class="code"><pre><span class="cp">&lt;?php</span>
    <span class="k">function</span> <span class="nf">consultar</span><span class="p">(</span><span class="nv">$datos</span><span class="p">)</span>
    <span class="p">{</span>   
        <span class="nv">$sql</span> <span class="o">=</span> <span class="s2">"
            SELECT a,b,c FROM tabla
            WHERE
                    x=:x
                AND y=:y
        "</span><span class="p">;</span>
        <span class="nv">$sentencia</span> <span class="o">=</span> <span class="nx">toba</span><span class="o">:</span><span class="nx">db</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">sentencia_preparar</span><span class="p">(</span><span class="nv">$sql</span><span class="p">);</span>
        <span class="k">return</span> <span class="nx">toba</span><span class="o">::</span><span class="na">db</span><span class="p">()</span><span class="o">-&gt;</span><span class="na">sentencia_consultar</span><span class="p">(</span><span class="nv">$sentencia</span><span class="p">,</span> <span class="nv">$datos</span><span class="p">);</span>
    <span class="p">}</span>
<span class="cp">?&gt;</span><span class="x">
</span></pre></div></li></ul></li><li><strong>Ataques XSS o <a class="ext-link" href="../../../../external.html?link=http://es.wikipedia.org/wiki/Cross_Site_Scripting"><span class="icon"> </span>Cross Site Scripting</a>:</strong> Además de incluir requisitos en la configuración de PHP durante la instalación gráfica, se filtra las salida tanto en los efs de formularios como en columnas del cuadro, para sanear las salidas HTML (usando la función htmlentities). En versiones anteriores de toba se permitia html en efs y cuadros (para dar un formato especifico a una columna por ejemplo), a partir de ésta versión se incluyeron tildes 'incluir_html' en efs y cuadro. Para compatibilidad hacia atras, se agrega una migracion para que los ef-fijos sigan permitiendo salidas html, en este caso el proyecto es responsable de sanear las cadenas provenientes de la base usando la función <tt>texto_plano($cadena)</tt>.
</li><li><strong>Robo de sesiones:</strong> Hasta ahora el tiempo de no-interacción de la sesión de un usuario para proyectos toba creados con las opciones por defecto, dependía exclusivamente de la configuración de PHP. La misma por lo general tiene sin-limite (mejor dicho 'hasta que el navegador se cierre', en la directiva <tt>session.cookie_lifetime</tt>). Con lo cual lo usual en la práctica es que el tiempo de no-interacción de un usuario no tenga límites y facilite el robo de las sesiones. A partir de esta versión se incluye un valor de 30 minutos para la configuración <strong>Sesión - Tope no interaccion</strong> tanto para la creación de nuevos proyecto como para aquellos creados que no tenían definida este atributo. Si durante estos minutos el usuario no interactua con el sistema, al hacerlo se le pedira que reingrese sus credenciales.
</li><li><strong>Acceso a información no-autorizada:</strong>  A partir de esta versión se controla que la selección de elementos de un cuadro pertenezca a las filas que se mostraron, evitando que mediante manipulación del proceso de submit se ingrese a datos no autorizados. Esto es muy importantes para la seguridad de los perfiles de datos.
</li></ul><h2 id="Instalador">Instalador</h2>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.3.0/instalador.html"><img width="500px" style="float:right" src="../../raw-attachment/wiki/Versiones/1.3.0/instalador.png" /></a>
Desde las últimas versiones de la rama 1.2 y ahora oficialmente en todas las versiones de la rama 1.3 se encuentra disponible el uso del nuevo instalador gráfico de aplicaciones toba. El proceso de generar un instalable (llamado 'empaquetar' un proyecto) está detallado como una <a class="wiki" href="../Referencia/Deployment.html#PasajeDesarrollo-Producciónusandoinstaladorgráfico">nueva forma de deployment</a>. Algunos detalles de sus funcionalidades:
</p>
<ul><li>Permite generar un paquete instalable listo para distribuir, sin pasos manuales, ejecutando sólo un comando administrativo <tt>toba proyecto empaquetar</tt>
</li><li>El instalador en sí asume la instalación previa de la pila Apache-Php-Postgres (ayudados por el <a class="ext-link" href="../../../../external.html?link=http://infotec.siu.edu.ar/"><span class="icon"> </span>foro infotec</a>). La idea es que el usuario publique el instalador en una carpeta navegable y a partir de allí no require ningún instructivo
</li><li>Asegura ciertas premisas de seguridad y performance en la implementación. Por ejemplo creación de un usuario postgres propio para la conexión (evitando usar el superusuario), asegurar directivas mínimas de seguridad en la configuración de php (ocultar errores internos, no permitir el robo de cookies, etc.), <i>compilación</i> de metadatos, exclusión de los proyectos internos como toba_referencia, etc.
</li></ul><div style="clear:both"></div>
<h2 id="Basededatos">Base de datos</h2>
<ul><li>Nuevos parámetros de bases.ini:
<ul><li><i>schema</i>:  Si esta presente se cambia el SEARCH_PATH una vez realizada la conexión. Permite tener a toba y el proyecto en la misma base de datos postgres.
</li><li><i>encoding</i>: Si esta presente se cambia el CLIENT_ENCODING una vez realizada la conexión. 
</li></ul></li><li>Se fija el <tt>datestyle</tt> de la conexión a modo ISO (y-m-d), para evitar errores en otras configuraciones (pasa seguido con postgres 8.3).
</li><li>Mejoras al API de manejo de sentencias preparadas de la clase <tt>toba::db()</tt>. Quedan así:
<ul><li><tt>sentencia_preparar</tt>: Dada una SQL retorna un identificador a usar en el resto de los servicios.
</li><li><tt>sentencia_ejecutar</tt>: Ejecuta la sentencia y devuelve la cantidad de registros afectadas por la misma.
</li><li><tt>sentencia_consultar</tt>: Ejecuta la sentencia y devuelve los datos recuperados.
</li><li><tt>sentencia_consultar_fila</tt>: Ejecuta la sentencia y retorna la primer fila encontrada.
</li><li><tt>sentencia_cantidad_afectados</tt>: Devuelve la cantidad de registros afectados por la sentencia.
</li><li><tt>sentencia</tt>: Venía desde antes de esta versión, es la combinación de <tt>sentencia_preparar</tt> con <tt>sentencia_consultar</tt>
</li></ul></li><li>Esquema de auditoría:
<ul><li>El comando <tt>toba proyecto crear_auditoria</tt>, en caso de que el esquema exista, lo migra agregando tablas y columnas faltantes.
</li><li>Bug en el orden de inicio de la sesión y el contexto de ejecución, no permitía guardar el usuario actualmente logueado en la tabla temporal y tiraba un error crítico en el log.
</li><li>Bug al eliminar un registro, no se tenia en cuenta el prefijo <tt>logs_</tt> de las tablas. 
</li><li>Se agrega un campo id_solicitud a la auditoría, que permite vincular con la tabla de solicitudes/sesiones. Aquellos proyectos que utilizan la auditoría, deben modificar la tabla temporaria creada durante el inicio de la ejecución para incluir la nueva columna. Tomar como ejemplo el de <a class="source" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/browser/trunk/proyectos/toba_referencia/php/extension_toba/toba_referencia_fuente_datos.php">toba_referencia</a>.
</li></ul></li><li>Durante el parseo de errores postgres, se trata de averiguar el locale de los mensajes, ya que entre los mensajes en inglés y castellano cambian los caracteres utilizados y se rompía el parseo.
</li><li>El esquema de perfiles de datos maneja N fuentes. La entrada estandar pasa a se <tt>toba::perfil_de_datos()-&gt;filtrar($sql, $fuente=null)</tt> y toma por defecto la fuente predeterminada. 
</li><li>Componente datos_tabla:
<ul><li>La generación de las sentencias UPDATE no controlaba si un campo es booleano. 
</li><li>Se evita el control de valores únicos reiteradamente en el alta y modificación, ahora se hace al sincronizar. Se toma el mismo comportamiento para los controles de tope_maximo_filas y tope_minimo_filas, se hacen al sincronizar. 
</li></ul></li></ul><h2 id="Formulario">Formulario</h2>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.3.0/ef_combo_editable.html"><img src="../../raw-attachment/wiki/Versiones/1.3.0/ef_combo_editable.png" style="float:right" /></a>
</p>
<ul><li>Nuevo <tt>ef_combo_editable</tt> (colaboración Jorge de Guaraní). Permite selección gradual de un elemento entre un gran conjunto de datos, con búsqueda progresiva AJAX (suggest). Ejemplos en toba_referencia.
</li><li>Posibilidad de modificar el layout del form en impresión de forma similar a la salida html clásica.
</li><li>El <tt>ef_html</tt> permite colapsar su toolbar.
</li><li>Posibilidad de estilizar el ef-html cuando está solo lectura. Bug del ef-html en opera al intentar obtener su estado.
</li><li>Al desactivarse vía API un ef que participa de una cascada, se actualizan sus relaciones (si es un esclavo, el maestro no trata de actualizarlo).
</li></ul><div style="clear:both"></div>
<h2 id="FormularioML">Formulario ML</h2>
<ul><li>Se agrega botonera de exportacion a excel y pdf usando métodos <tt>$ml-&gt;set_exportar_excel</tt> y <tt>$ml-&gt;set_exportar_pdf</tt>.
</li><li>Se incluye la posibilidad de mantener registro de sus cambios en el cliente para poder activar/desactivar botones según si se modificó o no algún valor. Es un poco más costoso que en el form. común ya que se examina por filas y campos tanto cuando cambia un ef como cuando se agrega/quita una fila. 
</li><li>Método javascript <tt>ml.eliminar_filas()</tt> que borra todas las filas.
</li><li>Mejoras a la performance de sumarizaciones en javascript para cantidades importantes de filas. Se logra dividiendo el procesamiento de todos los efs y el calcular los totales al agregar una nueva fila, esto permite procesar solo el ef que se esta agregando y aun asi seguir calculando los totales de una columna.
</li><li>Se puede escuchar la configuración de una fila especifica en el CI contenedor del ml, esto permite por ejemplo setear campos solo lectura a determinadas filas o anular eventos a nivel de fila:
<div class="code"><pre><span class="cp">&lt;?php</span>
    <span class="sd">/**
     * Se configura una fila especifica del ML
     */</span>
    <span class="k">function</span> <span class="nf">conf_fila__</span><span class="o">&lt;</span><span class="nx">componente</span><span class="o">&gt;</span><span class="p">(</span><span class="nv">$fila</span><span class="p">)</span> 
    <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nb">isset</span><span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">datos_facturas</span><span class="p">[</span><span class="nv">$fila</span><span class="p">]))</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="nv">$this</span><span class="o">-&gt;</span><span class="na">datos_facturas</span><span class="p">[</span><span class="nv">$fila</span><span class="p">][</span><span class="s1">'importe_nc'</span><span class="p">]</span> <span class="o">&gt;</span> <span class="m">0</span><span class="p">)</span> <span class="p">{</span>
                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">dep</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">componente</span><span class="o">&gt;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">evento</span><span class="p">(</span><span class="s1">'crear_nc'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">ocultar</span><span class="p">();</span>
                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">dep</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">componente</span><span class="o">&gt;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">ef</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">campo</span><span class="o">&gt;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">set_solo_lectura</span><span class="p">(</span><span class="k">true</span><span class="p">);</span>
            <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">dep</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">componente</span><span class="o">&gt;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">evento</span><span class="p">(</span><span class="s1">'crear_nc'</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">mostrar</span><span class="p">();</span>
                <span class="nv">$this</span><span class="o">-&gt;</span><span class="na">dep</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">componente</span><span class="o">&gt;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">ef</span><span class="p">(</span><span class="o">&lt;</span><span class="nx">campo</span><span class="o">&gt;</span><span class="p">)</span><span class="o">-&gt;</span><span class="na">set_solo_lectura</span><span class="p">(</span><span class="k">false</span><span class="p">);</span>
            <span class="p">}</span>   

    <span class="p">}</span>

<span class="cp">?&gt;</span><span class="x">
</span></pre></div></li></ul><h2 id="Cuadro">Cuadro</h2>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.3.0/grupo_columnas.html"><img src="../../raw-attachment/wiki/Versiones/1.3.0/grupo_columnas.png" style="float:right" /></a>
</p>
<ul><li>Agrupación de títulos de columnas del cuadro. Se puede agrupar editando el cuadro e indicando grupos similares en columnas adyacentes. Alternativamente por API con el método <tt>$cuadro-&gt;set_grupo_columnas($grupo, $columnas)</tt>
</li><li>Se agrega un método para chequear si una columna o un conjunto de ellas existen en la definición del cuadro (simil de toba_ei_formulario::existe_ef)
</li><li>El total de registros se muestra independientemente de si el cuadro está o no paginado. Esta funcionalidad se activa vía CSS agregando en el archivo toba.css del proyecto, la clase <strong>.ei-cuadro-pag-total</strong> y cambiando la propiedad display por un valor diferente a <strong>none</strong> (usualmente <strong>block</strong>).
<div style="clear:both"></div>
</li></ul><h2 id="Varios">Varios</h2>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.3.0/capa-espera.html"><img width="500px" style="float:right" src="../../raw-attachment/wiki/Versiones/1.3.0/capa-espera.png" /></a>
</p>
<ul><li>Nueva configuración <i>Demora cartel espera</i>, indica la cantidad de milisegundos que tarda en mostrarse automáticamente un cartel de 'Aguarde por favor', útil para dar un feedback visual en operaciones que tardan mucho tiempo.
</li><li>Los CNs pueden contener CNs como dependencias. 
</li><li>Mejoras a la robustez de los perfiles funcionales:
<ul><li><strong>Pantallas no-visibles:</strong> Quita el registro del evento en php que permite navegar al mismo, con lo cual es seguro que el usuario no puede navegarla y permite mantener la lógica js. En caso de que el programador en PHP explicitamente navegue hacia la pantalla se lanza una excepción. Se tiene en cuenta el caso wizard.
</li><li><strong>Eventos no-visibles:</strong> Se oculta el evento y se le quita el registro en la sesion, haciendo que no sea posible ejecutarlo pero si respeta la logica js existente.
</li><li>El evento de cambio de tabs se maneja en php al igual que el resto de los eventos.
</li><li>Caso de prueba manual en toba_testing. 
</li></ul></li><li>En la impresión html se oculta el menú, botones de edición y el encabezado del usuario. 
</li><li>Los autovínculos (urls que apuntan a la misma operación en la que estoy parado) no limpian la memoria, para lograr este efecto indicar la opción <tt>array('menu' =&gt; 1)</tt> en el método <tt>get_url</tt>.
</li><li>Nueva excepcion toba_error_seguridad, la información que se le pasa la guarda al logger y da un mensaje generico al usuario. 
</li><li>Al desloguearse de un proyecto, se elimina la sesión de la instancia. Asi como en el login el usuario 'se abre' a toda la instancia, cuando se desloguea espera hacerlo de toda la instancia también.
<div style="clear:both"></div>
</li></ul><h2 id="NuevasAPIs">Nuevas APIs</h2>
<ul><li>Se crean ventanas para que los proyectos que necesiten extender el esquema de login puedan extender también el esquema de bloqueos de usuarios e ips. Disponibles a través de la <a class="wiki" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/wiki/Referencia/Login">extensión de la clase de usuarios</a>.
</li><li>Se incluye en <strong>contrib</strong> un catalogo para armar un arbol a partir de una carpeta de operaciones. Permite formar un menú alternativo con un componente ei_arbol (ver opción configuración de <strong>mapuche</strong>).
</li><li>Se incluye en <strong>contrib</strong> una librería para manejo de procesos en el sistema operativo. Útilizado por ejemplo para disparar procesos de importación/exportación en segundo plano.
</li><li>Se incorpora al api de la solicitud el metodo <tt>tipo_pagina()</tt> para poder acceder al objeto y modificarlo por api. 
</li><li>En los javascript de efs, cuando se pasa un <tt>set_estado(null)</tt> los combos y editables tiraban error de javascript, se asume que esto es sinónimo de resetear_estado, lo interesante de permitir esto es que por ejemplo el pasaje via ajax de datos desde la base es directo, evitando tener que poner un adaptador.
</li><li>Nuevo método del ef_fecha en javascript para setearle la fecha a partir de un objeto Date.
</li><li>Clase <a href='../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_editor_trunk/doc/api/Centrales/toba_mail.html#' title='Navega hacia la documentacion PHP'><img style='vertical-align:middle' src='../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_editor_trunk/doc/api/media/php-small.png' /> toba_mail</a>, Posibilidad de enviar mails html. Actualización phpmailer a version 2.2.
</li><li>Esquema de planificación de tareas. Las tareas y logs de tareas se exportan a la instancia local, usar <a href='../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_editor_trunk/doc/api/Centrales/toba_planificador_tareas.html#' title='Navega hacia la documentacion PHP'><img style='vertical-align:middle' src='../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_editor_trunk/doc/api/media/php-small.png' /> toba::planificador_tareas()</a>.
</li><li>API para agregar/quitar operaciones al menú desde PHP:
<pre class="wiki">toba::menu()-&gt;agregar_opcion(array('nombre' =&gt; 'Prueba'));
toba::menu()-&gt;quitar_opcion(3292); 
</pre></li><li>Forma de atrapar el acceso a menú via javascript, permite por ejemplo detener el cambio de operación (la misma se define en el extension js del ci):
<pre class="wiki">function callback_menu(proyecto, operacion, url, es_poup) {
	return confirm('Esta a punto de abandonar la edición sin grabar, ¿Desea continuar?');
}
toba.set_callback_menu(callback_menu);
</pre></li><li>Mejoras a API de notificaciones:
<ul><li>Metodos js agregar_notificacion y limpiar_notificaciones en los eis.
</li><li>Método php <tt>$componente-&gt;agregar_notificacion</tt> que agrega el mensaje en la barra superior (similar al descripcion de la pantalla).
</li></ul></li><li>Clase <tt>toba_mensajes</tt>
<ul><li><tt>get_operacion_actual</tt>: retorna el mensaje de ayuda asociado a la operación. Si la misma contiene sólo una URL el botón de ayuda no muestra un tooltip sino que se convierte en un link.
</li><li><tt>set_fuente_ini</tt>: Determina que los mensajes surgirán desde un archivo .ini y no desde los metadatos. En el .ini debe figurar una sección <tt>[operaciones]</tt> con un listado <tt>id_operacion = url | mensaje</tt>. 
</li></ul></li><li>Al ei_arbol se le puede incluir un filtro inline por nombre <tt>$filtro-&gt;set_mostrar_filtro_rapido(true)</tt>. 
</li><li>Al ei_filtro se le puede indicar una columna solo-lectura: <tt>$filtro-&gt;columna('tal')-&gt;set_solo_lectura()</tt>.
</li></ul><h2 id="AdministraciónyEdicióndelproyecto">Administración y Edición del proyecto</h2>
<ul><li>La extensión de código de los componentes se hace con un asistente, el cuál permite generar la cáscara de métodos aún cuando el archivo y la clase se encuentren creados.
</li><li>La visualización de código permite hacer un blame, add, delete y ver el estado svn actual del archivo.
</li><li>Operacion de prueba de dimensiones. Modificación del esquema para permitir que el testeo se pueda realizar tambien por API, en el caso que un proyecto desee hacer un testeo automático de los perfiles de datos.
</li><li>Posibilidad de deshabilitar la aplicación de restricciones funcionales de algunos efs puntuales.
</li><li>En la definición de eventos con vínculos, es posible definir el tipo de servicio a generar (antes siempre era generar_html), posibilitando definir auto-vinculos con otros servicios, como por ejemplo para una salida en otro formato no html.
</li><li>La regeneración de la instancia (<tt>toba instancia regenerar</tt>) trabaja en una transacción, ya no hace drop de la base sino solo del schema de metadatos. Por defecto el nombre del schema es el mismo que el de la instancia (desarrollo, producción etc.)
</li><li>Se modificó el proceso de instalación del framework, ahora el id_desarrollador se pregunta durante la instalación, además funciona con instalación postgres 8.3. El proyecto toba_referencia se crea en un schema 'referencia' de la base de toba, lo mismo para el curso.
</li><li>Los perfiles de datos entran en el esquema de exportacion/carga desde archivos .xml en la instalacion (cuando el flag en_produccion esta encendido en instalacion.ini).
</li><li>Los logs de las operaciones de consola se guardan junto a los logs de los comandos (carpeta logs_comandos), para evitar conflictos con los permisos de los archivos (la consola generalmente lo ejecuta otro usuario-grupo distinto que el servidor apache).
</li><li>Al hacer un <tt>toba proyecto regenerar</tt> se perdía toda la información local del proyecto en la instancia (tareas, fotos del editor, parametros vista previa, etc). Se agrega una exportación local del proyecto previo a la regeneracion, que es lo que en general se quiere hacer.
</li><li>Por defecto en la creación del proyecto se activa el <strong>registro de solicitudes</strong> detallando cada pedido de página (usuario,ip, operación, etc.).
</li><li>Se pasan las secuencias de serial a bigint, con los cual los id de desarrollador pueden ser un numero muy largo (9223372036854).
</li><li>Nuevo comando <tt>toba instalacion cambiar_id_desarrollador</tt>, permite cambiar el id en cuestión y actualizar las secuencias para que surja efecto el cambio.
</li><li>Nuevo comando <tt>toba proyecto borrar_auditoria</tt>.
</li><li>Nuevo Comando <tt>toba proyecto ver_log</tt>, muestra una entrada del log (por defecto la ultima, si se pasa el modificador "-n" se puede acceder a una especifica).
</li></ul><h2 id="Bugsimportantessolucionados">Bugs importantes solucionados</h2>
<ul><li>Corrección librería Numbers_Words para uniformidad en el trato de decimales y corrección de algún error de representación 
</li><li>Bug en la validación de extensiones del ef_upload. 
</li><li>Bug en el calculo de la diferencia entre registros de una tabla en una modificación. No se estaban parseando los datos booleanos que vienen de la base.
</li><li>Bugs toba_usuarios:
<ul><li>La edición perfiles de un usuario siempre es multi-proyecto, sino no había forma de darle acceso al mismo proyecto toba_usuarios.
</li><li>La edición de perfiles de datos guardaba los elementos activados de una dimension usando 'trim', se rompian en caso de definir la tabla con un char(x).
</li><li>No se podía eliminar la asociación de un usuario a un perfil de datos específico.
</li></ul></li><li>Bugs varios relacionados con IE.
</li></ul><p>
 
</p>
<h2 id="MigraciónManual">Migración Manual</h2>
<p>
Seguir los pasos normales de <strong><a class="wiki" href="../Versiones.html#Migraci%C3%B3ndeversiones">migración</a></strong> (la llamada 'migración automática'). Tener en cuenta además:
</p>
<ul><li>A partir de esta versión el <tt>evt__anterior</tt> del wizard no maneja datos (para por ejemplo poder volver pasos atrás sin hacer validaciones), antes sí manejaba. <strong>Revisar si se explotaba ésta funcionalidad</strong>.
</li><li>Se quito acceso al método <tt>toba::vinculador()-&gt;generar_solicitud</tt>, obsoleto desde la 0.8, usar get_url en su lugar. La forma de migrarlo es la siguiente:
<ul><li>Buscar las ocurrencias de <tt>-&gt;generar_solicitud</tt> en el sistema.
</li><li>Dejar los primeros tres parámetros identicos.
</li><li>Identificar cual es la función del resto de los parámetros (mirando la definición del generar_solicitud), ver si el valor es distinto al por defecto, formar un arreglo asociativo en su lugar y pasarlo como 4to parámetro. Por ejemplo si se se pasaba el parámetro menú en true, ahora debe formarse así <tt>array('menu' =&gt; true')</tt>.
</li></ul></li><li>Había una falta de coherencia en el manejo de la celda-memoria en los vínculos definidos en el editor:
<ul><li>Para vínculos de eventos, si el vínculo era de popup siempre se enviaba a una celda-memoria popup, aún cuando definíamos lo contrario en el editor!.
</li><li>Para vínculos en columnas de un cuadro, cuando no figuraba la celda-memoria en los metadatos se usaba como celda el id de la columna (wait!).
</li><li>Ahora quedo de la siguiente manera:
<ul><li>Si uno no define una celda en el editor, se usa la actual (comportamiento igual al vinculador y todo el resto de la API).
</li><li>Si uno define que un vinculo de popup se 'sugiere' usar la celda popup, aunque uno manualmente lo puede cambiar.
</li></ul></li></ul></li></ul><h2 id="Versiones1.3">Versiones 1.3</h2>
<p>
A continuación un detalle de los cambios realizados en la rama 1.3 luego de su lanzamiento:
<h3 id="a1.3.1">1.3.1</h3>
<ul><li>Bug en firefox 2.x cuando un evento estaba predeterminado, al deshabilitarse el button no hacia submit el form
</li><li>Bug migración desde versión 1.1.0
</li><li>Bug en editor de vinculos cuando se seleccionaba servicio 'ejecutar'
</li><li>Bug en ordenamiento del cuadro, tiraba error javascript y no ordenaba
</li><li>Bug cuando se redefinian los metadatos de un componente en runtime usando metadatos compilados
</li><li>Bug en la persistencia de las propiedades del CI en la sesion. En en caso de que una propiedad sea un array y posea un objeto dentro de su contenido, la serializacion quedaba a cargo de PHP y en el proceso de des-serializacion fallaba porque el include del proyecto no estaba disponible antes del session_start.
</li><li>Bug en la sincronización de archivos svn cuando contenían espacios
</li><li>Bug en los efs, se generaba un pedido de página a una imagen no existente provocando un 'File does not exist' en el servidor
</li><li>Bug en la generación de menú para IE 8
</li><li>Posibilidad de recibir parámetros de consola en los comandos administrativos propios del proyecto de la siguiente manera:
<pre class="wiki">	function opcion__prueba($parametros)
	{
		$parametro_a = $parametros['-a'];
	}

</pre></li><li>Se agrega el metodo toba::consulta_php($clase) para acceder desde el codigo del proyecto a las consultas_php definidas en el editor.
</li><li>Analisis de convenciones de código en toba_editor y consola (merge reivisiones 4018, 4007, 3998, 3994, 3993, 3991, 3989, 3988, 3987 y 3986 del trunk). En consola usar:
<pre class="wiki">toba test convenciones -p &lt;proyecto&gt;
</pre></li><li>Nuevo tab de vista código PHP del proyecto en el toba_editor, permite analizar las convenciones desde el editor
</li></ul><h3 id="a1.3.2">1.3.2</h3>
<ul><li>Bug en editor de cascadas de efs, a veces no mostraba como disponible un ef de la lista
</li><li>Bug en agregar filas en el ML para el ie8, (se quita hack generico del ie para el caso de la version 8 o sup)
</li><li>Bug actualizacion de secuencias, si se usaba id_desarrollo ceros
</li><li>Bug en Perfil de Datos: Si el alias de una tabla en el from tenía un 'as' lo tomaba como si fuera el alias 
</li><li>Nueva API del ci para setear la visibilidad de la barra superior
</li><li>Se cambia la forma en que trabaja el metodo activo() de la API JS del ef_radio.
</li><li>AP_TABLA: se sustituye "NULL" por "DEFAULT" en los campos nulos cuando se generan las sentencias SQL de INSERCION.
</li><li>Metodo "set_mostrar_utilerias_orden(boolean)" en el ML para ocultar y mostrar las utilerias de orden.
</li><li>Cambio en la forma de invocar consultas php en el generador de codigo de los asistentes.
</li><li>Nueva forma de sincronizar en los componentes de persistencia: sincronizar_fila, que permite sincronizar un subconjunto de datos. Es similar a sincronizar($usar_cursores=true) solo que permite acceder a las filas eliminadas.
</li><li>El asistente ahora genera el codigo perteneciente a propiedades de manera correcta.
</li><li>Se mejoro las validaciones del Asistente ABM Simple permitiendo de esta forma el fallo temprano.
</li><li>datos_tabla: al metodo get_cantidad_filas se le agrega un parametro "usar_cursores". Antes asumia el uso de cursores por defecto.
</li><li>Cuadro: seleccion multiple en javascript (<a class="closed ticket" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/ticket/678" title="enhancement: ei_cuadro: multiseleccion (closed: fixed)">#678</a>)
</li><li>Documentación: Poder usar en proyectos tag wiki (<a class="closed ticket" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/ticket/652" title="enhancement: Documentación: Poder usar en proyectos tag wiki (closed: fixed)">#652</a>)
</li><li>Poder atrapar y confirmar la salida de una transacción. (<a class="closed ticket" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/ticket/132" title="enhancement: Notificar las salidas de transacción (closed: fixed)">#132</a>) Se incluye a la zona en el esquema de navegación del menú. Se chequean los forms presentes para encontrar cambios en valores
</li><li>El formulario ml no estaba escuchando el set_detectar_cambios
</li><li>Primitivas en toba::memoria() para controlar que un valor seleccionado pertenece al conjunto de datos enviados al cliente.
<ul><li>set_array_operacion($indice, $datos)
</li><li>en_array_operacion($indice, $dato, $tira_excepcion=true), si falla dispara: toba_error_seguridad
</li><li>get_array_operacion($indice)
</li><li>limpiar_array_operacion($indice)
</li></ul></li><li>Perfil de Datos: Se agrega el parseo basico de operaciones de conjuntos de filas (ej: UNION).
</li><li>Cuadro: Nueva api <tt>set_layout_cant_filas</tt> para mostrar cuadros con despliegue horizontal (necesario para administracion)
</li><li>Nueva API toba_ei_filtro para obtener los id´s de las columnas comprendidas
</li><li>Se agregó el método crear_lenguaje_procedural para que los comandos de instalación de los proyectos puedan crear el lenguaje si no existe.
</li></ul><h3 id="a1.3.3">1.3.3</h3>
<ul><li>Bug en comparacion de estados de efs
</li><li>Bug en creación de esquema de auditoria, cuando toba y el proyecto no comparten la misma base
</li><li>Bug en el editor de fuentes de datos. No se estaba cargando en el datos_tabla el id del proyecto.
</li><li>Bug en ei_filtro al grabar un caso de test en selenium, ahora se deja seleccionada la última opción en lugar de resetearla  
</li><li>Cambio a la forma de nombrar a las versiones inestables usando toba_version, luego del x.y.z puede ir un numero de build (<a class="closed ticket" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/ticket/689" title="enhancement: Version: Permitir un numero de build (closed: fixed)">#689</a>)
</li><li>Se Agregó a la función update de la clase toba_svn el parametro $revision para poder ir a la revision deseada
</li><li>Se agrega un método a la clase toba_svn para obtener la revisión de una carpeta 
</li><li>se Agregó un flag en los metodos get_string_partes y <span class="underline">toString, en la clase toba_version para indicar si se quiere agregar o no el "build" al string
</li><li>Se agrandaron los campos 'padre_id' e 'hijo_id' de la tabla apex_objeto_datos_rel_asoc de 20 a 40 caracteres, ya que hacían referencia al campo 'identificador' de 40 caracteres de la tabla apex_objeto_dependencias
</li><li>El editor de fuentes perdia el encoding de la base al editar una entrada.
</li></ul><h3 id="a1.3.4">1.3.4</h3>
<ul><li>Bug ef_editable_textarea , estaba validando mal el maximo en php
</li><li>Bug creación esquema de auditoria
</li><li>Bug migración a 1.1, no se incluia un parche a las fuentes de datos_tabla
</li><li>Bug al agregar un usuario a una instancia
</li><li>Bug item de consola, estaba tirando una excepción al intentar registrar el acceso en la tabla correspondiente.
</li><li>Bug grabacion selenium caso apertura popup
</li><li>Bug mascaras y expresiones regulares editable_numero e hijos
</li><li>Los ef_combo que se cargan en cascada y solo traen la opcion apex_ef_no_seteado ahora vuelven solo_lectura, en js se hacia la distincion pero en php se comportaba distinto
</li><li>Soporte basico a templates para layouts de pantallas (por ahora solo es una injeccion de html, en la 1.4 sale el soporte oficial). 
</li><li>Operación en el toba_editor que permite generar un test de cobertura selenium del proyecto buscando items que tiren excepciones 
</li><li>Se mueve la definicion de la constante apex_ef_no_seteado a toba_nucleo.php
</li><li>Se corrige un detalle en la clase toba_notificacion.php
</li><li><a class="closed ticket" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/ticket/706" title="enhancement: Migracion pilaga 1.3 (closed: fixed)">#706</a>: Se puede bypassear la validacion de maximo de un editable en php
</li><li>Bug en el detectar cambios del formulario. Los checkbox tienen estado inicial null y no se estaban controlando.
</li><li>faltaba self en la llamada al $callback_errores_validacion
</li><li>se agregó el método controlador() en la clase toba_ef
</li></ul><h3 id="a1.3.5">1.3.5</h3>
<ul><li>Bug ef_popup en php 5.3
</li><li>Bug phpmailer cuando se usaba un helo particular
</li></ul><p>
  
</span></p>
<h3 id="a1.3.7">1.3.7</h3>
<ul><li>Bug salida excel con porcentajes
</li><li>Se amplia el limite de filas de excel
</li></ul><p>
 
</p>
<h3 id="a1.3.9">1.3.9</h3>
<ul><li>Se agregan funciones para poder cambiar las imagenes del ef_popup.
</li></ul>
</p>

        
        
      </div>
          <h3>Attachments</h3>
          <ul>
              <li>
      <a href="../../attachment/wiki/Versiones/1.3.0/instalador.html" title="View attachment">instalador.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.3.0/instalador.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="46997 bytes">45.9 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-02-23T14%3A12%3A52-0300&amp;precision=second" title="2009-02-23T14:12:52-0300 in Timeline">21 months</a> ago.
              </li>
              <li>
      <a href="../../attachment/wiki/Versiones/1.3.0/ef_combo_editable.html" title="View attachment">ef_combo_editable.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.3.0/ef_combo_editable.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="3335 bytes">3.3 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-02-23T14%3A25%3A17-0300&amp;precision=second" title="2009-02-23T14:25:17-0300 in Timeline">21 months</a> ago.
              </li>
              <li>
      <a href="../../attachment/wiki/Versiones/1.3.0/grupo_columnas.html" title="View attachment">grupo_columnas.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.3.0/grupo_columnas.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="9832 bytes">9.6 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-02-25T07%3A42%3A45-0300&amp;precision=second" title="2009-02-25T07:42:45-0300 in Timeline">21 months</a> ago.
              </li>
              <li>
      <a href="../../attachment/wiki/Versiones/1.3.0/capa-espera.html" title="View attachment">capa-espera.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.3.0/capa-espera.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="25756 bytes">25.2 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-03-09T14%3A48%3A13-0300&amp;precision=second" title="2009-03-09T14:48:13-0300 in Timeline">21 months</a> ago.
              </li>
          </ul>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("../../pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/wiki/Versiones/1.3.0?format=txt">Plain Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="../../../../external.html?link=http://trac.edgewall.org/"><img src="../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">
        Powered by <a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/about"><strong>Trac 0.11.7</strong></a><br />
        By <a href="../../../../external.html?link=http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">Creado por SIU<br /><a href="../../../../external.html?link=http://www.siu.edu.ar/">http://www.siu.edu.ar</a></p>
    </div>
    <div id="sitefooter">
    </div>
<script type="text/javascript">
if (document.getElementById('link_php')) {
document.getElementById('link_php').onclick = function() {
    location.href = '../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_editor_trunk/doc/api/index.html';
    return false;
}
document.getElementById('link_js').onclick = function() {
    location.href = '../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_editor_trunk/doc/api_js/index.html';
    return false;
}
document.getElementById('link_wiki').onclick = function() {
    location.href = '../Referencia.html';
    return false;
}
}
</script>
  </body>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>