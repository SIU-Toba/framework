<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
 <title>Versiones/1.4.0 - SIU-Toba - Trac</title><link rel="start" href="../../wiki.html" /><link rel="search" href="../../../../external.html?link=https://localhost/trac/toba/search" /><link rel="help" href="../TracGuide.html" /><link rel="stylesheet" href="../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../chrome/common/css/wiki.css" type="text/css" /><link rel="icon" href="../../../../external.html?link=https://localhost/favicon.ico" type="image/x-icon" /><link rel="shortcut icon" href="../../../../external.html?link=https://localhost/favicon.ico" type="image/x-icon" /><link rel="alternate" href="../../../../external.html?link=https://localhost/trac/toba/wiki/Versiones/1.4.0?format=txt" title="Plain Text" type="text/x-trac-wiki" /><style type="text/css">
.wikipage h2 {border-bottom: 1px solid gray;}

/* trac php syntax highlighting */
.code-block {
    line-height: 1em;
    font-family: Courier, monotype;
    font-size: 12px;
    }
.h_question { color: #0000BB; } /* highlight.default */
.hphp_commentline { color: #FF8000; } /* highlight.comment */
.hphp_operator { color: #007700; } /* highlight.keyword */
.hphp_word { color: #007700; } /* highlight.keyword */
.hphp_default {}
.hphp_variable { color: #0000BB; } /* highlight.default */
.hphp_hstring { color: #DD0000; } /* highlight.string */
.hphp_simplestring { color: #DD0000; } /* highlight.string */
.h_tagunknown {}
.h_default {}

.code-keyword { color: #007700; font-weight: normal; }
.code-lang { color: #0000BB; font-weight: normal; }
.code-comment { color: #FF8000; font-weight: normal;}
.code-string { color: #DD0000; font-weight: normal;}

pre { padding:0; margin: 0}

.tablas-screenshots td:first-child { background-color: #D5CECD; width: 30%}
.tablas-screenshots table { width: 90%; border: 1px solid gray; }
.tablas-screenshots td { }
.tablas-screenshots table.wiki td { border: 1px solid gray; }

#tkt-changes-hdr {
    clear: both;
    padding-top: 30px;
}
.wiki-toc {
    clear: right;
    min-width: 160px;
    background-color:#F7F7F7;    
    border: 1px solid #D7D7D7;
}
.wiki-toc .active {
    background-color: #890C71;
    padding: 1px;
}
.wiki-toc .active a {
    color:white; 
}
.wiki-toc .active a:hover {
    background-color:  #890C71;
}
.indice-general {
/*    background-color: #FFFFDD;*/
}
.wikipage h1 {
    padding-top: 5px;
}
.wikipage h2 {
 padding: 2px;
}
h1 {
    font-size: 28px;
}
.wikipage h2 {
    background-color: #890C71;
    color: white;
    padding-left: 10px;
    margin-top: 30px;
    font-size: 100%;
    border: 1px solid gray;
}
.wikipage h3 {
    font-size:100%;
}
.wikipage {
padding-right:10px;
}
li {
    margin-bottom:6px;
}
li * {
    margin-bottom:3px;
}
/*a {
 color: #890C71;
}*/
@media print {
 .wiki-toc { display: none }
}
#tkt-changes-hdr, .tkt-chg-list { 
    font-size:80%;
    text-align:right;
}

/** Cambios globales **/
#ctxtnav {
 /*display:none;*/
}
#mainnav {
 border: none;
 background: white;
 margin: 0;
 padding-top: 10px;
 padding-bottom: 35px;
border-bottom:1px solid #CCCCCC;

}
#mainnav li {
 border: 1px solid lightGray;
}
#header {
 display:none;
}
body {
    margin: 0;
    padding: 0;
      background-color:#F3F3F3;	    
}
#content {
clear: both;

}
#banner {
    background-color: white;
    padding-right:10px;
    padding-top:10px;
}

#mainnav .active :link, #mainnav .active :visited {
background:#890B72;
border-right:1px solid #000000;
border-top:medium none;
color:#EEEEEE;
font-weight:bold;
}
#mainnav :link, #mainnav :visited {
 border: none;
 background: transparent;
}
:link, :visited {
/* color: #1020EB;*/
/* color: #0C1BBC; */
 color: #67065D ;

}
#main {
 padding-left: 10px;
}
#footer {
 background-color: white;
 border-bottom: 1px solid;
}
</style>
 <script type="text/javascript" src="../../chrome/common/js/trac.js"></script>
</head>

			<body>
			<table border='0' cellspacing='0' cellpadding='0' height='48' width='100%'>
			  <tr>
			
				<td class='header-top-left'><img src='../../../../../api/media/logo.png' border='0'/></td>
			    <td class='header-top-right'>
			    		<img border='0' style='vertical-align: middle' src='../../../../../api/media/wiki.png' />
			    	<a href='../../../../../api/index.html'  title='Navegar hacia la documentación PHP'>
			    		<img border='0' style='vertical-align: middle' src='../../../../../api/media/php-small.png' /></a> 
			    	<a href='../../../../../api_js/index.html'  title='Navegar hacia la documentación Javascript'>    		
			    	<img border='0' style='vertical-align: middle' src='../../../../../api/media/javascript-small.png' /></a>
			  </tr>
			
			  <tr>
			    <td colspan='2' class='header-menu'>
			  		  [ <a href='http://desarrollos.siu.edu.ar/trac/toba/wiki/Versiones/1.4' title='El sitio online contiene contenidos mas detallados y actualizados'
						class='menu'>Ver online</a> ]
			    </td>
			
			  </tr>
			  <tr><td colspan='2' class='header-line'><img src='../../../../../api/media/empty.png' width='1' height='1' border='0' alt=''  /></td></tr>
			</table>
		

<script type="text/javascript" src="../../chrome/site/mootools.js"></script>
<script type="text/javascript" src="../../chrome/site/slimbox.js"></script>
<link rel="stylesheet" href="../../chrome/site/portada.css" type="text/css" media="screen" />
<link rel="stylesheet" href="../../chrome/site/slimbox.css" type="text/css" media="screen" />
<a style='position: absolute; top: 5px; left:5px;border-bottom:none !important;' href="../../../../external.html?link=https://localhost/trac/toba"><img src="../../chrome/site/logo_toba_siu.gif" width="282" height="90" alt="Toba" /></a>

<div id="banner">

<div id="header"><a id="logo" href="../../../../external.html?link=https://localhost/trac/toba"><img src="../../chrome/site/logo_toba_siu.gif" width="282" height="90" alt="Toba" /></a><hr /></div>

<form id="search" action="../../../../external.html?link=https://localhost/trac/toba/search" method="get">
 <div>
  <label for="proj-search">Search:</label>
  <input type="text" id="proj-search" name="q" size="10" accesskey="f" value="" />
  <input type="submit" value="Search" />
  <input type="hidden" name="wiki" value="on" />
  <input type="hidden" name="changeset" value="on" />
  <input type="hidden" name="ticket" value="on" />
 </div>
</form>



<div id="metanav" class="nav"><ul><li class="first"><a href="../../../../external.html?link=https://localhost/trac/toba/login">Login</a></li><li><a href="../../../../external.html?link=https://localhost/trac/toba/settings">Settings</a></li><li><a accesskey="6" href="../TracGuide.html">Help/Guide</a></li><li class="last"><a href="../../../../external.html?link=https://localhost/trac/toba/about">About Trac</a></li></ul></div>
</div>

<div id="mainnav" class="nav"><ul><li class="active first"><a accesskey="1" href="../../wiki.html">Wiki</a></li><li><a accesskey="2" href="../../../../external.html?link=https://localhost/trac/toba/timeline">Timeline</a></li><li><a accesskey="3" href="../../../../external.html?link=https://localhost/trac/toba/roadmap">Roadmap</a></li><li><a href="../../../../external.html?link=https://localhost/trac/toba/browser">Browse Source</a></li><li><a href="../../../../external.html?link=https://localhost/trac/toba/query">View Tickets</a></li><li><a accesskey="7" href="../../../../external.html?link=https://localhost/trac/toba/newticket">New Ticket</a></li><li class="last"><a accesskey="4" href="../../../../external.html?link=https://localhost/trac/toba/search">Search</a></li></ul></div>
<div id="main">




<div id="ctxtnav" class="nav">
 <h2>Wiki Navigation</h2>
 <ul>
   <li><a href="../../wiki.html">Start Page</a></li>
   <li><a href="../TitleIndex.html">Index by Title</a></li>
   <li><a href="../../../../external.html?link=https://localhost/trac/toba/wiki/RecentChanges">Index by Date</a></li>
   <li class="last"><a href="../../../../external.html?link=https://localhost/trac/toba/wiki/Versiones/1.4.0?action=diff&amp;version=40">Last Change</a></li>
 </ul>
 <hr />
</div>

<div id="content" class="wiki">

 
  
  
   
   <div class="wikipage">
    <div id="searchable"><p>
<a href="../WikiStart.html">Inicio</a> / <a href="../Versiones.html">Versiones</a> / 1.4.0
<div class="wiki-toc"><ol><li><a href="#CambiosVersión1.4">Cambios Versión 1.4</a><ol><li><a href="#Seguridad">Seguridad</a></li><li>
<a href="#Interfaz">Interfaz</a><ol><li><a href="#Formularios">Formularios</a></li></ol><li><a href="#Pantalla">Pantalla</a><ol><li><a href="#Cuadro">Cuadro</a></li><li>
<a href="#ML">ML</a></li><li>
<a href="#Filtro">Filtro</a></li></ol><li><a href="#Persistencia">Persistencia</a></li><li>
<a href="#AdministraciónyEdicióndelproyecto">Administración y Edición del proyecto</a></li><li>
<a href="#Varios">Varios</a></li><li>
<a href="#migracion">Instructivo de migración</a></li></ol></li></ol></div>
</p>
<h1 id="CambiosVersión1.4">Cambios Versión 1.4</h1>
<ul><li>Fecha: ??/06/09
</li><li>Rama con actualizaciones: <a class="source" href="../../../../external.html?link=https://localhost/trac/toba/browser/trunk_versiones/1.4">source:trunk_versiones/1.4</a>
</li><li>Revisiones trunk involucradas: <a class="changeset" href="../../../../external.html?link=https://localhost/trac/toba/changeset/3976" title="Lanzamiento rama 1.3">[3976]</a> a [????]
</li></ul><p>
Llegue hasta la <a class="changeset" href="../../../../external.html?link=https://localhost/trac/toba/changeset/4229" title="Trunk: Se pone el schema por defecto de toba_referencia (no estaba  ...">[4229]</a>
</p>
<h2 id="Seguridad">Seguridad</h2>
<p>
<strong>Acceso a información no-autorizada</strong>:
</p>
<ul><li>Los ef selección (combo, radio y todos los múltiples) chequean que los valores seleccionados pertenezcan al grupo de los que se envió previamente. Tanto en su funcionamiento normal como en cascada.
</li><li>Los id de la zona (llamado <i>editables</i>) se propagan a través de la sesión en lugar de hacerlo vía GET. De esta forma no es posible <strong>visualizar ni alterar</strong> lo editado.
</li><li>Se agregaron primitivas de seguridad útiles a <tt>toba::memoria()</tt>, usadas para guardar un conjunto de valores antes de ir al cliente y chequear contra los mismos en el siguiente pedido de página:
<div class="code"><pre><span class="code-lang">&lt;?php
    set_array_operacion</span><span class="code-keyword">(</span><span class="code-lang">$indice</span><span class="code-keyword">, </span><span class="code-lang">$datos</span><span class="code-keyword">)
    </span><span class="code-lang">en_array_operacion</span><span class="code-keyword">(</span><span class="code-lang">$indice</span><span class="code-keyword">, </span><span class="code-lang">$dato</span><span class="code-keyword">, </span><span class="code-lang">$tira_excepcion</span><span class="code-keyword">=</span><span class="code-lang">true</span><span class="code-keyword">) </span><span class="code-comment">//si falla dispara: toba_error_seguridad
    </span><span class="code-lang">get_array_operacion</span><span class="code-keyword">(</span><span class="code-lang">$indice</span><span class="code-keyword">)
    </span><span class="code-lang">limpiar_array_operacion</span><span class="code-keyword">(</span><span class="code-lang">$indice</span><span class="code-keyword">)</span>

</pre></div></li></ul><h2 id="Interfaz">Interfaz</h2>
<p>
El inicio de sesión puede disparar el sistema en una pantalla en popup, ocultando el menú y barra de herramientas del navegador. Se activa tildando <i>Abrir sistema en popup</i> en las configuraciones del proyecto. La funcion abrir_popup de javascript detecta si se bloqueo el popup y ofrece reintentarlo a partir de un link. Se dejo activado en el <a href='../../../../external.html?link=https://localhost/toba_referencia_trunk/aplicacion.php?ai=toba_referencia||30000028' title='Navega hacia el ejemplo en el proyecto online de referencia'>proyecto de referencia</a>.
  
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../../../external.html?link=https://localhost/trac/toba/attachment/wiki/Versiones/1.4.0/login_popup.png"><img src="../../attachment/wiki/Versiones/1.4.0/login_popup41f0.png?format=raw" /></a>
</p>
</blockquote>
<p>
Apertura de operaciones en paralelo a la actual: Se debe mantener la tecla <i>shift</i> apretada, muestra los nombres subrayados. Se incluye por defecto en todos los proyectos. Sólo permite abrir un único nivel (llamado 'paralela'). Ver funcionamiento en <a href='../../../../external.html?link=https://localhost/toba_referencia_trunk/aplicacion.php?ai=toba_referencia||30000028' title='Navega hacia el ejemplo en el proyecto online de referencia'>proyecto de referencia</a>.
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/menu.html"><img src="../../attachment/wiki/Versiones/1.4.0/menu41f0.png?format=raw" /></a>
</p>
</blockquote>
<p>
Se redefine el aspecto general de toba referencia, para optimizar el espacio vertical. La mayoría de los cambios se lograron editando el <a class="source" href="../../../../external.html?link=https://localhost/trac/toba/browser/trunk/proyectos/toba_referencia/www/css/toba.css">toba.css</a> del proyecto. Además para este fin se incluyo una nueva propiedad del ci que permite trasladar su botonera superior a la barra.
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/layout_referencia.html"><img src="../../attachment/wiki/Versiones/1.4.0/layout_referencia41f0.png?format=raw" /></a>
</p>
</blockquote>
<p>
Nueva notificación que avisa cuando el usuario intenta cambiar de operación en una edición en marcha (con datos modificados) .Ver ejemplo en <a href='../../../../external.html?link=https://localhost/toba_referencia_trunk/aplicacion.php?ai=toba_referencia||2658' title='Navega hacia el ejemplo en el proyecto online de referencia'>proyecto de referencia</a>.
</p>
<pre class="wiki">$hay_cambios = $relacion-&gt;hay_cambios();
toba::menu()-&gt;set_modo_confirmacion('Esta a punto de abandonar la edición de la persona sin grabar, ¿Desea continuar?', $hay_cambios);
</pre><blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/salir_transaccion.html"><img src="../../attachment/wiki/Versiones/1.4.0/salir_transaccion41f0.png?format=raw" /></a>
</p>
</blockquote>
<p>
Modo experimental de <strong>navegación AJAX</strong>, en lugar de hacer un pedido de página completo, sólo se trae el cuerpo de la operación. Tanto el editor como el proyecto de referencia salen con esto activado. Mejora notablemente los tiempos de respuestas, aunque tiene un mayor riesgo ya que por un lado se pierde totalmente la funcionalidad del refresh y back del navegador. Por otro lado en caso de problema o bug es más difícil de recuperarse. Se puede activar en las propiedades básicas del proyecto, via API o en la botonera del modo previsualización. Se espera que hayan varios bugs asociados a esta funcionalidad, el que encuentra alguno... hay premio :)
 
</p>
<h3 id="Formularios">Formularios</h3>
<p>
Se puede cambiar el layout utilizando un template. Se incluye un editor visual en toba_editor, también se puede cambiar el template via API (set_template)
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/layout_form.html"><img src="../../attachment/wiki/Versiones/1.4.0/layout_form41f0.png?format=raw" /></a>
</p>
</blockquote>
<p>
Se agrega una api al ef para que puedan agregarse fácilmente iconos a la derecha de los campos. Deben respetar la interface <tt>toba_ef_icono_utileria</tt>, se incluye ejemplo en <a href='../../../../external.html?link=https://localhost/toba_referencia_trunk/aplicacion.php?ai=toba_referencia||30000015' title='Navega hacia el ejemplo en el proyecto online de referencia'>proyecto de referencia</a>.
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/iconos-extra.html"><img src="../../attachment/wiki/Versiones/1.4.0/iconos-extra41f0.png?format=raw" /></a>
</p>
</blockquote>
<ul><li>Nueva API Javascript <tt>toba.hay_cambios</tt> que revisa forms y forms_ml buscando campos modificados. Se guarda siempre el set inicial de datos en js.
</li></ul><h2 id="Pantalla">Pantalla</h2>
<p>
A igual que el formulario permite definir su layout a través de un template en el editor
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/layout_pantalla.html"><img src="../../attachment/wiki/Versiones/1.4.0/layout_pantalla41f0.png?format=raw" /></a>
</p>
</blockquote>
<h3 id="Cuadro">Cuadro</h3>
<p>
Un evento puede ser de <i>selección múltiple</i>, mostrando un checkbox al lado de cada fila. Por ahora sólo tiene comportamiento en javascript. <a href='../../../../external.html?link=https://localhost/toba_referencia_trunk/aplicacion.php?ai=toba_referencia||30000023' title='Navega hacia el ejemplo en el proyecto online de referencia'>Ver ejemplo</a>
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/cuadro-seleccion-multiple.html"><img src="../../attachment/wiki/Versiones/1.4.0/cuadro-seleccion-multiple41f0.png?format=raw" /></a>
</p>
</blockquote>
<ul><li>El ordenamiento tiene en cuenta el tipo de dato de la columna, si es numerico, fecha, cadena, etc.
</li><li>Se agrego una API que permite hacer un layout por columnas, agrupando N filas.
</li></ul><h3 id="ML">ML</h3>
<ul><li>En javascript se puede atrapar la selección de una fila (<tt>evt__seleccionar_fila</tt>). Si se retorna flase no se selecciona la fila
</li><li>Método <tt>set_mostrar_utilerias_orden(boolean)</tt> para ocultar/mostrar los iconos de ordenamiento
</li></ul><h3 id="Filtro">Filtro</h3>
<ul><li>En las comparaciones por negación (Ej. <i>no es igual a</i>) se incluyen aquellas filas con valor NULL en el campo.
</li><li>A la clase <tt>toba_filtro_condicion</tt> se le agregaron métodos para fijar y recuperar el estado de la condición. Cuando se fija una condición no puede cambiarse por otra, hasta liberar la misma.
</li><li>Se puede marcar una condición como <i>por defecto</i> para una columna determinada vía API.
</li><li>Por defecto la columna fecha incluye los extremos del rango en las comparaciones.
</li></ul><p>
  
</p>
<h2 id="Persistencia">Persistencia</h2>
<p>
Se incluye en forma predeterminada un chequeo por pérdida de sincronización. Se usa el mecanismo de <strong>locking optimista</strong>, validando a la hora de sincronizar que ningún valor a actualizar haya sufrido cambios desde el inicio de la transacción de aplicación. En caso de pérdida de sincronización (alguien estuvo editando lo mismo y guardo antes que guarde yo) se lanza una excepción con un error genérico para el usuario y un detalle del diff para debug. Se puede modificar la estrategia de recuperación del error, implementando el método <tt>evt__perdida_sincronizacion</tt> del admin.persistencia de la tabla.
   
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/perdida-sinc.html"><img src="../../attachment/wiki/Versiones/1.4.0/perdida-sinc41f0.png?format=raw" /></a>
</p>
</blockquote>
<p>
Otros cambios:
</p>
<ul><li>Mejora al método <tt>hay_cambios</tt> del datos_tabla, ahora al tener el set de datos inicial puede determinar campo por campo los cambios realizados.
</li><li>Al insertar se sustituye <i>NULL</i> por <i>DEFAULT</i> en los campos nulos cuando se generan las sentencias SQL de INSERCION. 
</li><li>En el UPDATE solo incluyen las columnas realmente modificadas.
</li><li>Se agrega el metodo <tt>toba::consulta_php($clase)</tt> para acceder desde código a las consultas_php definidas en el editor. 
</li><li>Método <tt>sincronizar_fila(array())</tt>, permite sincronizar un subconjunto de datos indicando el ID interno de las filas a utilizar. Es similar a <tt>sincronizar($usar_cursores=true)</tt>, pero a diferencia de este permite trabajar sobre las filas eliminadas.
</li><li>Cargas de columnas externas:
<ul><li>Se pueden marcar como obligatorias o no, permitiendo foreings keys nulas.
</li><li>Se puede indicar un método de <strong>carga masiva</strong> inicial. Para los casos en que el conjunto a editar sea grande, evita realizar en la carga una consulta SQL por fila.
</li><li>Se modifica la carga para que acepte arreglos asociativos. El formato recordset permanece por compatibilidad hacia atras
</li><li>La carga se puede realizar con métodos de otro datos_tabla o via consulta_php
</li></ul></li></ul><h2 id="AdministraciónyEdicióndelproyecto">Administración y Edición del proyecto</h2>
<p>
Mejoras a la previsualización del proyecto. La barra que muestra el toba_editor se divide en una sección de información (izquierda) y una de acciones (derecha). Se puede acceder a ver el detalle de las consultas/comandos SQL realizados y el detalle de los archivos .PHP incluidos.
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/barra.html"><img src="../../attachment/wiki/Versiones/1.4.0/barra41f0.png?format=raw" /></a>
</p>
</blockquote>
<ul><li>Nuevo comando <tt>toba test convenciones</tt> que analiza los archivos .php contra un test de convenciones de código. Se incluye el test de convenciones en un nuevo catálogo PHP de toba_editor y en el visualizador de archivos PHP.
</li><li>Mejoras a la instalación:
<ul><li>Se puede ingresar el nombre de base de datos (para alojar la instancia)
</li><li>Se puede especificar un número de puerto para PostgreSQL
</li></ul></li><li>Se utiliza el archivo de configuración proyecto.ini en la raiz del proyecto, se dejan de usar los archivos VERSION y PROYECTO
</li><li>Posibilidad de recibir parámetros de consola en los comandos administrativos propios del proyecto 
</li><li>Se modifico el asistente para abms, ahora crea siempre una relación con el datos_tabla incluidos dentro, de esta forma es más sencillo escalar a un ABM un poco más complejo. 
</li><li>Operación en el toba_editor que permite generar un test de cobertura selenium del proyecto buscando items con errores iniciales
</li><li>Mejoras al visor de logs, se puede filtrar por logs del proyecto o de toba.
</li><li>En la definición de una fuente de datos si puede indicar si maneja auditoría y si se mejoran los mensajes de error de la base (solo postgres). Utilidad que permite crear o actualizar el esquema de auditoria. 
</li></ul><blockquote>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Referencia/FuenteDatos/Auditoria/fuente_datos.html"><img src="../../attachment/wiki/Referencia/FuenteDatos/Auditoria/fuente_datos41f0.png?format=raw" /></a>
</p>
</blockquote>
</blockquote>
<h2 id="Varios">Varios</h2>
<ul><li>Soporte para IE8
</li><li>Zona: Se agregaron métodos para desactivar un ítem o un grupo de items. Los links que genera ya no son URLs directas, sino que pasan por el API de navegación del menu.
</li><li>Refactoring de las tablas de toba:
<ul><li>Se normalizo la relacion que definía las columnas que participaban en la sumatoria de los cortes de control. 
</li><li>Se normalizo las relaciones entre pantallas - eventos y entre pantallas - dependencias 
</li><li>Se normalizo la asociación entre columnas de un datos relacion 
</li></ul></li><li>toba_ei_arbol: En el disparo de eventos de los nodos, si el nodo tiene un metodo llamado "set_ei_arbol", el componente le pasa una referencia a si mismo. El metodo existia en la generacion del servicio, pero no se puede consumir la referencia des-serializada que posee el nodo al arbol que lo utilizo porque no es la misma instanciacion que la que realiza el toba del ei_arbol. Esto puede llevar a bugs dificiles de rastrear.
</li><li>El esquema de excepciones toba_error puede recibir un segundo mensaje que solo se muestra en modo debug 
</li><li>Serializacion de propiedades que son componentes toba:
<ul><li>Las propiedades se almacenan y leen de la memoria tal cual ahora.
</li><li>Se agrego un metodo <tt>__sleep</tt> a toba_componente para asegurarse que nadie seralize directamente ese objeto (lo mismo deberia hacer con toba_db por ej.)
</li><li>Cuando se quieren guardar en sesion objetos con componentes toba, lo recomendable es extender la clase toba_serializar_propiedades. Tambien se puede hacer manuamlente esta el ejemplo en toba_testing
</li><li>En los componentes, se retrasa la lectura de propiedades en sesion a la inicializacion (antes estaba en el constructor) sino no habia forma de recuperar un componente 
</li></ul></li><li>Se unifica el esquema de inicialización de los componentes. Todos tienen un metodo inicializar que llama a una ventana ini y se invocan en un momento posterior al constructor. Para reafirmar el esquema de inicialización se dejan los constructores de los componentes como final 
</li><li>En el parseo de errores postgres se usa el nombre del campo si el mismo no tiene comentario (se puede desactivar por API) 
</li><li>Los proyectos pueden usar el tag <tt>[wiki:Pagina Descripción]</tt> en las descripciones y ayudas
</li></ul><h2 id="migracion">Instructivo de migración</h2>
<p>
Seguir los pasos normales de <strong><a class="wiki" href="../Versiones.html#Migraci%C3%B3ndeversiones">migración</a></strong> (la llamada 'migración automática'). Tener en cuenta además:
</p>
<ul><li>En esta versión hace un control estricto sobre los constructores de las subclases de los componentes, los mismas no pueden redefinirse. Existe una ventana ini en cada componente con el fin de extender la creación. En ejecución se dispara un fatal_error y obliga a cambiarlo, si se quiere buscar por anticipado casos asi es probable encontrarlos buscando en el código cadenas de este estilo
<pre class="wiki">parent::__construct($id);
</pre></li><li>Con el nuevo chequeo de seguridad de efs selección, si por algún motivo desde javascript se estaba agregando dinámicamente nuevas opciones a esos efs, se lanzará una excepción de seguridad al recibirlo en PHP. La forma correcta de hacer un comportamiento así es utilizar el esquema de cascadas o directamente hacer un nuevo pedido de página al server y recargar el ef con el nuevo valor.
</li><li>Cambios a la zona: Por motivos de seguridad a partir de esta versión el <i>editable</i> que propaga la zona (por ej. id del registro editado) ya no se pasará por URL sino que se propagará por sesión. En caso de contar con vínculos creados manualmente se deberán cambiar los mismos a un esquema manejado por eventos en php (ej. en el evt<span class="underline">cuadro</span>seleccionar de php cargar la zona). <a href='../../../../external.html?link=https://localhost/toba_referencia_trunk/aplicacion.php?ai=toba_referencia||1000065' title='Navega hacia el ejemplo en el proyecto online de referencia'>Ejemplo de propagación de Zona</a>
</li><li>En el CN, se cambio el método <tt>evt__limpieza_memoria</tt> por <tt>limpiar_memoria</tt> a secas, ya que no era un evento. Se incluye en la migracion la regla para convertir automáticamente la llamada. 
</li></ul></div>
   </div>
   
    <h3 id="tkt-changes-hdr">Attachments</h3>
    <ul class="tkt-chg-list"><li class="tkt-chg-change"><a href="../../attachment/wiki/Versiones/1.4.0/salir_transaccion.html">salir_transaccion.png</a> (19.2 kB) - added by seba on 06/24/09 16:48:51.</li><li class="tkt-chg-change"><a href="../../attachment/wiki/Versiones/1.4.0/menu.html">menu.png</a> (2.4 kB) - added by seba on 06/24/09 17:01:58.</li><li class="tkt-chg-change"><a href="../../attachment/wiki/Versiones/1.4.0/layout_form.html">layout_form.png</a> (26.2 kB) - added by seba on 06/24/09 17:16:12.</li><li class="tkt-chg-change"><a href="../../attachment/wiki/Versiones/1.4.0/layout_referencia.html">layout_referencia.png</a> (47.5 kB) - added by seba on 06/25/09 18:50:53.</li><li class="tkt-chg-change"><a href="../../../../external.html?link=https://localhost/trac/toba/attachment/wiki/Versiones/1.4.0/login_popup.png">login_popup.png</a> (45.8 kB) - added by seba on 06/25/09 18:57:00.</li><li class="tkt-chg-change"><a href="../../attachment/wiki/Versiones/1.4.0/iconos-extra.html">iconos-extra.png</a> (2.4 kB) - added by seba on 06/25/09 19:03:49.</li><li class="tkt-chg-change"><a href="../../attachment/wiki/Versiones/1.4.0/cuadro-seleccion-multiple.html">cuadro-seleccion-multiple.png</a> (5.9 kB) - added by seba on 06/25/09 19:16:41.</li><li class="tkt-chg-change"><a href="../../attachment/wiki/Versiones/1.4.0/perdida-sinc.html">perdida-sinc.png</a> (15.5 kB) - added by seba on 06/26/09 11:17:56.</li><li class="tkt-chg-change"><a href="../../attachment/wiki/Versiones/1.4.0/barra.html">barra.png</a> (32.3 kB) - added by seba on 06/26/09 13:48:03.</li><li class="tkt-chg-change"><a href="../../attachment/wiki/Versiones/1.4.0/layout_pantalla.html">layout_pantalla.png</a> (25.6 kB) - added by seba on 06/26/09 14:01:41.</li>
    </ul>
  
  
  <script type="text/javascript">
   addHeadingLinks(document.getElementById("searchable"), "Link to this section");
  </script>
 
 
</div>

<script type="text/javascript">searchHighlight()</script>
<div id="altlinks"><h3>Download in other formats:</h3><ul><li class="first last"><a href="../../../../external.html?link=https://localhost/trac/toba/wiki/Versiones/1.4.0?format=txt">Plain Text</a></li></ul></div>

</div>

<div id="footer">
 <hr />
 <a id="tracpowered" href="../../../../external.html?link=http://trac.edgewall.org/"><img src="../../chrome/common/trac_logo_mini.png" height="30" width="107"
   alt="Trac Powered"/></a>
 <p class="left">
  Powered by <a href="../../../../external.html?link=https://localhost/trac/toba/about"><strong>Trac 0.10.3</strong></a><br />
  By <a href="../../../../external.html?link=http://www.edgewall.org/">Edgewall Software</a>.
 </p>
 <p class="right">
  Creado por SIU<br /><a href="../../../../external.html?link=http://www.siu.edu.ar/">http://www.siu.edu.ar</a>
 </p>
</div>


<script type='text/javascript'>
if (document.getElementById('link_php')) {
document.getElementById('link_php').onclick = function() {
    location.href = '../../../../external.html?link=https://localhost/toba_editor_trunk/doc/api/index.html';
    return false;
}
document.getElementById('link_js').onclick = function() {
    location.href = '../../../../external.html?link=https://localhost/toba_editor_trunk/doc/api_js/index.html';
    return false;
}
document.getElementById('link_wiki').onclick = function() {
    location.href = '../Referencia.html';
    return false;
}
}

</script>
 </body>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>

