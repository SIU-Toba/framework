<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="../../../../external.html?link=http://www.w3.org/1999/xhtml">
  
  

  


  

  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
<head>
    <title>
      Versiones/1.4.0 – SIU-Toba
    </title>
        <link rel="search" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/search" />
        <link rel="help" href="../TracGuide.html" />
        <link rel="alternate" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/wiki/Versiones/1.4.0?format=txt" type="text/x-trac-wiki" title="Plain Text" />
        <link rel="up" href="../Versiones.html" title="View parent page" />
        <link rel="start" href="../../wiki.html" />
        <link rel="stylesheet" href="../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../chrome/common/css/wiki.css" type="text/css" />
        <link rel="shortcut icon" href="../../../../external.html?link=https://repositorio.siu.edu.ar/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="../../../../external.html?link=https://repositorio.siu.edu.ar/favicon.ico" type="image/x-icon" />
      <link type="application/opensearchdescription+xml" rel="search" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/search/opensearch" title="Search SIU-Toba" />
    <script type="text/javascript" src="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/chrome/common/js/jquery.js"></script><script type="text/javascript" src="../../chrome/common/js/trac.js"></script><script type="text/javascript" src="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/chrome/common/js/search.js"></script>
    <!--[if lt IE 7]>
    <script type="text/javascript" src="/trac/toba/chrome/common/js/ie_pre7_hacks.js"></script>
    <![endif]-->
    <script type="text/javascript">
      jQuery(document).ready(function($) {
        $("#content").find("h1,h2,h3,h4,h5,h6").addAnchor("Link to this section");
      });
    </script>
    <script type="text/javascript" src="../../chrome/site/mootools.js"></script>
    <script type="text/javascript" src="../../chrome/site/slimbox.js"></script>
    <link rel="stylesheet" href="../../chrome/site/portada.css" type="text/css" media="screen" />
    <link rel="stylesheet" href="../../chrome/site/slimbox.css" type="text/css" media="screen" />
    <a style="position: absolute; top: 5px; left:5px;border-bottom:none !important;" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba"><img src="../../chrome/site/logo_toba_siu.gif" width="282" height="90" alt="Toba" /></a>
    <link rel="stylesheet" type="text/css" href="../../chrome/site/style.css" />
  </head>
  <body>
<a style="position: absolute; top: 5px; left:5px;border-bottom:none !important;" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba"><img src="../../chrome/site/logo_toba_siu_original.gif" width="282" height="90" alt="SIU-Toba" /></a>
    <div id="siteheader">
    </div>
    <div id="banner">
      <div id="header">
        <a id="logo" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba"><img src="../../chrome/site/logo_toba_siu.gif" alt="Toba" height="90" width="282" /></a>
      </div>
      <form id="search" action="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/search" method="get">
        <div>
          <label for="proj-search">Search:</label>
          <input type="text" id="proj-search" name="q" size="18" value="" />
          <input type="submit" value="Search" />
        </div>
      </form>
      <div id="metanav" class="nav">
    <ul>
      <li class="first"><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/login">Login</a></li><li><a href="../TracGuide.html">Help/Guide</a></li><li><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/about">About Trac</a></li><li class="last"><a href="../../prefs.html">Preferences</a></li>
    </ul>
  </div>
    </div>
    <div id="mainnav" class="nav">
    <ul>
      <li class="first active"><a href="../../wiki.html">Wiki</a></li><li><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline">Timeline</a></li><li><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/roadmap">Roadmap</a></li><li><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/browser">Browse Source</a></li><li><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/query">View Tickets</a></li><li class="last"><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/search">Search</a></li>
    </ul>
  </div>
    <div id="main">
      <div id="ctxtnav" class="nav">
        <h2>Context Navigation</h2>
          <ul>
              <li class="first"><a href="../Versiones.html">Up</a></li><li><a href="../WikiStart.html">Start Page</a> / <a href="../Versiones.html">Versiones</a> / 1.4.0</li><li><a href="../TitleIndex.html">Index</a></li><li><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/wiki/Versiones/1.4.0?action=history">History</a></li><li class="last"><a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/wiki/Versiones/1.4.0?action=diff&amp;version=47">Last Change</a></li>
          </ul>
        <hr />
      </div>
    <div id="content" class="wiki">
      <p class="path noprint">
        <a class="pathentry" title="View Versiones" href="../Versiones.html">Versiones</a><span class="pathentry sep">/</span><a class="pathentry" title="View Versiones/1.4.0" href="1.4.html">1.4.0</a>
        <br style="clear: both" />
      </p>
      <div class="wikipage searchable">
        
          <p>
</p><div class="wiki-toc"><ol><li><a href="#CambiosVersión1.4">Cambios Versión 1.4</a><ol><li><a href="#Seguridad">Seguridad</a></li><li>
<a href="#Interfaz">Interfaz</a><ol><li><a href="#Formularios">Formularios</a></li></ol></li><li>
<a href="#Pantalla">Pantalla</a><ol><li><a href="#Cuadro">Cuadro</a></li><li>
<a href="#ML">ML</a></li><li>
<a href="#Filtro">Filtro</a></li></ol></li><li>
<a href="#Persistencia">Persistencia</a></li><li>
<a href="#AdministraciónyEdicióndelproyecto">Administración y Edición del proyecto</a></li><li>
<a href="#Varios">Varios</a></li><li>
<a href="#migracion">Instructivo de migración</a></li><li>
<a href="#Versiones1.4">Versiones 1.4</a></li></ol></li></ol></div><p>
</p>
<h1 id="CambiosVersión1.4">Cambios Versión 1.4</h1>
<ul><li>Fecha: 14/07/09
</li><li>Rama con actualizaciones: <a class="source" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/browser/trunk_versiones/1.4">source:trunk_versiones/1.4</a>
</li><li>Revisiones trunk involucradas: <a class="changeset" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/changeset/3976" title="Lanzamiento rama 1.3">[3976]</a> a <a class="changeset" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/changeset/4293" title="Trunk: bug #699 estaba sacando el snippet de google analytics siempre">[4293]</a>
</li></ul><h2 id="Seguridad">Seguridad</h2>
<p>
<strong>Acceso a información no-autorizada</strong>:
</p>
<ul><li>Los ef selección (combo, radio y todos los múltiples) chequean que los valores seleccionados pertenezcan al grupo de los que se envió previamente. Tanto en su funcionamiento normal como en cascada.
</li><li>Los id de la zona (llamado <i>editables</i>) se propagan a través de la sesión en lugar de hacerlo vía GET. De esta forma no es posible <strong>visualizar ni alterar</strong> lo editado.
</li><li>Se agregaron primitivas de seguridad útiles a <tt>toba::memoria()</tt>, usadas para guardar un conjunto de valores antes de ir al cliente y chequear contra los mismos en el siguiente pedido de página:
<div class="code"><pre><span class="cp">&lt;?php</span>
    <span class="nx">set_array_operacion</span><span class="p">(</span><span class="nv">$indice</span><span class="p">,</span> <span class="nv">$datos</span><span class="p">)</span>
    <span class="nx">en_array_operacion</span><span class="p">(</span><span class="nv">$indice</span><span class="p">,</span> <span class="nv">$dato</span><span class="p">,</span> <span class="nv">$tira_excepcion</span><span class="o">=</span><span class="k">true</span><span class="p">)</span> <span class="c1">//si falla dispara: toba_error_seguridad
</span>    <span class="nx">get_array_operacion</span><span class="p">(</span><span class="nv">$indice</span><span class="p">)</span>
    <span class="nx">limpiar_array_operacion</span><span class="p">(</span><span class="nv">$indice</span><span class="p">)</span>
</pre></div></li></ul><h2 id="Interfaz">Interfaz</h2>
<p>
El inicio de sesión puede disparar el sistema en una pantalla en popup, ocultando el menú y barra de herramientas del navegador. Se activa tildando <i>Abrir sistema en popup</i> en las configuraciones del proyecto. La funcion abrir_popup de javascript detecta si se bloqueo el popup y ofrece reintentarlo a partir de un link. Se dejo activado en el <a href='../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_referencia_trunk/aplicacion.php?ai=toba_referencia||30000028' title='Navega hacia el ejemplo en el proyecto online de referencia'>proyecto de referencia</a>.
  
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/attachment/wiki/Versiones/1.4.0/login_popup.png"><img src="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/raw-attachment/wiki/Versiones/1.4.0/login_popup.png" /></a>
</p>
</blockquote>
<p>
Apertura de operaciones en paralelo a la actual: Se debe mantener la tecla <i>shift</i> apretada, muestra los nombres subrayados. Se incluye por defecto en todos los proyectos. Sólo permite abrir un único nivel (llamado 'paralela'). Ver funcionamiento en <a href='../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_referencia_trunk/aplicacion.php?ai=toba_referencia||30000028' title='Navega hacia el ejemplo en el proyecto online de referencia'>proyecto de referencia</a>.
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/menu.html"><img src="../../raw-attachment/wiki/Versiones/1.4.0/menu.png" /></a>
</p>
</blockquote>
<p>
Se redefine el aspecto general de toba referencia, para optimizar el espacio vertical. La mayoría de los cambios se lograron editando el <a class="source" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/browser/trunk/proyectos/toba_referencia/www/css/toba.css">toba.css</a> del proyecto. Además para este fin se incluyo una nueva propiedad del ci que permite trasladar su botonera superior a la barra.
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/layout_referencia.html"><img src="../../raw-attachment/wiki/Versiones/1.4.0/layout_referencia.png" /></a>
</p>
</blockquote>
<p>
Nueva notificación que avisa cuando el usuario intenta cambiar de operación en una edición en marcha (con datos modificados) .Ver ejemplo en <a href='../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_referencia_trunk/aplicacion.php?ai=toba_referencia||2658' title='Navega hacia el ejemplo en el proyecto online de referencia'>proyecto de referencia</a>.
</p>
<pre class="wiki">$hay_cambios = $relacion-&gt;hay_cambios();
toba::menu()-&gt;set_modo_confirmacion('Esta a punto de abandonar la edición de la persona sin grabar, ¿Desea continuar?', $hay_cambios);
</pre><blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/salir_transaccion.html"><img src="../../raw-attachment/wiki/Versiones/1.4.0/salir_transaccion.png" /></a>
</p>
</blockquote>
<p>
Modo experimental de <strong>navegación AJAX</strong>, en lugar de hacer un pedido de página completo, sólo se trae el cuerpo de la operación. Tanto el editor como el proyecto de referencia salen con esto activado. Mejora notablemente los tiempos de respuestas, aunque tiene un mayor riesgo ya que por un lado se pierde totalmente la funcionalidad del refresh y back del navegador. Por otro lado en caso de problema o bug es más difícil de recuperarse. Se puede activar en las propiedades básicas del proyecto, via API o en la botonera del modo previsualización. Se espera que hayan varios bugs asociados a esta funcionalidad, el que encuentra alguno... hay premio :)
 
</p>
<h3 id="Formularios">Formularios</h3>
<p>
Se puede cambiar el layout utilizando un template. Se incluye un editor visual en toba_editor, también se puede cambiar el template via API (set_template)
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/layout_form.html"><img src="../../raw-attachment/wiki/Versiones/1.4.0/layout_form.png" /></a>
</p>
</blockquote>
<p>
Se agrega una api al ef para que puedan agregarse fácilmente iconos a la derecha de los campos. Deben respetar la interface <tt>toba_ef_icono_utileria</tt>, se incluye ejemplo en <a href='../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_referencia_trunk/aplicacion.php?ai=toba_referencia||30000015' title='Navega hacia el ejemplo en el proyecto online de referencia'>proyecto de referencia</a>.
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/iconos-extra.html"><img src="../../raw-attachment/wiki/Versiones/1.4.0/iconos-extra.png" /></a>
</p>
</blockquote>
<ul><li>Nueva API Javascript <tt>toba.hay_cambios</tt> que revisa forms y forms_ml buscando campos modificados. Se guarda siempre el set inicial de datos en js.
</li></ul><h2 id="Pantalla">Pantalla</h2>
<p>
A igual que el formulario permite definir su layout a través de un template en el editor
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/layout_pantalla.html"><img src="../../raw-attachment/wiki/Versiones/1.4.0/layout_pantalla.png" /></a>
</p>
</blockquote>
<h3 id="Cuadro">Cuadro</h3>
<p>
Un evento puede ser de <i>selección múltiple</i>, mostrando un checkbox al lado de cada fila. Por ahora sólo tiene comportamiento en javascript. <a href='../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_referencia_trunk/aplicacion.php?ai=toba_referencia||30000023' title='Navega hacia el ejemplo en el proyecto online de referencia'>Ver ejemplo</a>
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/cuadro-seleccion-multiple.html"><img src="../../raw-attachment/wiki/Versiones/1.4.0/cuadro-seleccion-multiple.png" /></a>
</p>
</blockquote>
<ul><li>El ordenamiento tiene en cuenta el tipo de dato de la columna, si es numerico, fecha, cadena, etc.
</li><li>Se agrego una API que permite hacer un layout por columnas, agrupando N filas.
</li></ul><h3 id="ML">ML</h3>
<ul><li>En javascript se puede atrapar la selección de una fila (<tt>evt__seleccionar_fila</tt>). Si se retorna flase no se selecciona la fila
</li><li>Método <tt>set_mostrar_utilerias_orden(boolean)</tt> para ocultar/mostrar los iconos de ordenamiento
</li></ul><h3 id="Filtro">Filtro</h3>
<ul><li>En las comparaciones por negación (Ej. <i>no es igual a</i>) se incluyen aquellas filas con valor NULL en el campo.
</li><li>A la clase <tt>toba_filtro_condicion</tt> se le agregaron métodos para fijar y recuperar el estado de la condición. Cuando se fija una condición no puede cambiarse por otra, hasta liberar la misma.
</li><li>Se puede marcar una condición como <i>por defecto</i> para una columna determinada vía API.
</li><li>Por defecto la columna fecha incluye los extremos del rango en las comparaciones.
</li></ul><p>
  
</p>
<h2 id="Persistencia">Persistencia</h2>
<p>
Se incluye en forma predeterminada un chequeo por pérdida de sincronización. Se usa el mecanismo de <strong>locking optimista</strong>, validando a la hora de sincronizar que ningún valor a actualizar haya sufrido cambios desde el inicio de la transacción de aplicación. En caso de pérdida de sincronización (alguien estuvo editando lo mismo y guardo antes que guarde yo) se lanza una excepción con un error genérico para el usuario y un detalle del diff para debug. Se puede modificar la estrategia de recuperación del error, implementando el método <tt>evt__perdida_sincronizacion</tt> del admin.persistencia de la tabla.
   
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/perdida-sinc.html"><img src="../../raw-attachment/wiki/Versiones/1.4.0/perdida-sinc.png" /></a>
</p>
</blockquote>
<p>
Otros cambios:
</p>
<ul><li>Mejora al método <tt>hay_cambios</tt> del datos_tabla, ahora al tener el set de datos inicial puede determinar campo por campo los cambios realizados.
</li><li>Al insertar se sustituye <i>NULL</i> por <i>DEFAULT</i> en los campos nulos cuando se generan las sentencias SQL de INSERCION. 
</li><li>En el UPDATE solo incluyen las columnas realmente modificadas.
</li><li>Se agrega el metodo <tt>toba::consulta_php($clase)</tt> para acceder desde código a las consultas_php definidas en el editor. 
</li><li>Método <tt>sincronizar_fila(array())</tt>, permite sincronizar un subconjunto de datos indicando el ID interno de las filas a utilizar. Es similar a <tt>sincronizar($usar_cursores=true)</tt>, pero a diferencia de este permite trabajar sobre las filas eliminadas.
</li><li>Cargas de columnas externas:
<ul><li>Se pueden marcar como obligatorias o no, permitiendo foreings keys nulas.
</li><li>Se puede indicar un método de <strong>carga masiva</strong> inicial. Para los casos en que el conjunto a editar sea grande, evita realizar en la carga una consulta SQL por fila.
</li><li>Se modifica la carga para que acepte arreglos asociativos. El formato recordset permanece por compatibilidad hacia atras
</li><li>La carga se puede realizar con métodos de otro datos_tabla o via consulta_php
</li></ul></li></ul><h2 id="AdministraciónyEdicióndelproyecto">Administración y Edición del proyecto</h2>
<p>
Mejoras a la previsualización del proyecto. La barra que muestra el toba_editor se divide en una sección de información (izquierda) y una de acciones (derecha). Se puede acceder a ver el detalle de las consultas/comandos SQL realizados y el detalle de los archivos .PHP incluidos.
</p>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Versiones/1.4.0/barra.html"><img src="../../raw-attachment/wiki/Versiones/1.4.0/barra.png" /></a>
</p>
</blockquote>
<ul><li>Nuevo comando <tt>toba test convenciones</tt> que analiza los archivos .php contra un test de convenciones de código. Se incluye el test de convenciones en un nuevo catálogo PHP de toba_editor y en el visualizador de archivos PHP.
</li><li>Mejoras a la instalación:
<ul><li>Se puede ingresar el nombre de base de datos (para alojar la instancia)
</li><li>Se puede especificar un número de puerto para PostgreSQL
</li></ul></li><li>Se utiliza el archivo de configuración proyecto.ini en la raiz del proyecto, se dejan de usar los archivos VERSION y PROYECTO
</li><li>Posibilidad de recibir parámetros de consola en los comandos administrativos propios del proyecto 
</li><li>Se modifico el asistente para abms, ahora crea siempre una relación con el datos_tabla incluidos dentro, de esta forma es más sencillo escalar a un ABM un poco más complejo. 
</li><li>Operación en el toba_editor que permite generar un test de cobertura selenium del proyecto buscando items con errores iniciales
</li><li>Mejoras al visor de logs, se puede filtrar por logs del proyecto o de toba.
</li><li>En la definición de una fuente de datos si puede indicar si maneja auditoría y si se mejoran los mensajes de error de la base (solo postgres). Utilidad que permite crear o actualizar el esquema de auditoria. 
</li></ul><blockquote>
<blockquote>
<p>
<a style="padding:0; border:none" href="../../attachment/wiki/Referencia/FuenteDatos/Auditoria/fuente_datos.html"><img src="../../raw-attachment/wiki/Referencia/FuenteDatos/Auditoria/fuente_datos.png" /></a>
</p>
</blockquote>
</blockquote>
<h2 id="Varios">Varios</h2>
<ul><li>Soporte para IE8
</li><li>Zona: Se agregaron métodos para desactivar un ítem o un grupo de items. Los links que genera ya no son URLs directas, sino que pasan por el API de navegación del menu.
</li><li>Refactoring de las tablas de toba:
<ul><li>Se normalizo la relacion que definía las columnas que participaban en la sumatoria de los cortes de control. 
</li><li>Se normalizo las relaciones entre pantallas - eventos y entre pantallas - dependencias 
</li><li>Se normalizo la asociación entre columnas de un datos relacion 
</li></ul></li><li>toba_ei_arbol: En el disparo de eventos de los nodos, si el nodo tiene un metodo llamado "set_ei_arbol", el componente le pasa una referencia a si mismo. El metodo existia en la generacion del servicio, pero no se puede consumir la referencia des-serializada que posee el nodo al arbol que lo utilizo porque no es la misma instanciacion que la que realiza el toba del ei_arbol. Esto puede llevar a bugs dificiles de rastrear.
</li><li>El esquema de excepciones toba_error puede recibir un segundo mensaje que solo se muestra en modo debug 
</li><li>Serializacion de propiedades que son componentes toba:
<ul><li>Las propiedades se almacenan y leen de la memoria tal cual ahora.
</li><li>Se agrego un metodo <tt>__sleep</tt> a toba_componente para asegurarse que nadie seralize directamente ese objeto (lo mismo deberia hacer con toba_db por ej.)
</li><li>Cuando se quieren guardar en sesion objetos con componentes toba, lo recomendable es extender la clase toba_serializar_propiedades. Tambien se puede hacer manuamlente esta el ejemplo en toba_testing
</li><li>En los componentes, se retrasa la lectura de propiedades en sesion a la inicializacion (antes estaba en el constructor) sino no habia forma de recuperar un componente 
</li></ul></li><li>Se unifica el esquema de inicialización de los componentes. Todos tienen un metodo inicializar que llama a una ventana ini y se invocan en un momento posterior al constructor. Para reafirmar el esquema de inicialización se dejan los constructores de los componentes como final 
</li><li>En el parseo de errores postgres se usa el nombre del campo si el mismo no tiene comentario (se puede desactivar por API) 
</li><li>Los proyectos pueden usar el tag <tt>[wiki:Pagina Descripción]</tt> en las descripciones y ayudas
</li><li>Se agrega al editor de CNs la capacidad de consumir un CN en una relacion distinta a la de composición. 
</li></ul><h2 id="migracion">Instructivo de migración</h2>
<p>
Seguir los pasos normales de <strong><a class="wiki" href="../Versiones.html#Migraci%C3%B3ndeversiones">migración</a></strong> (la llamada 'migración automática'). Tener en cuenta además:
</p>
<ul><li>En esta versión hace un control estricto sobre los constructores de las subclases de los componentes, los mismas no pueden redefinirse. Existe una ventana ini en cada componente con el fin de extender la creación. En ejecución se dispara un fatal_error y obliga a cambiarlo, si se quiere buscar por anticipado casos asi es probable encontrarlos buscando en el código cadenas de este estilo
<pre class="wiki">parent::__construct($id);
</pre></li><li>Con el nuevo chequeo de seguridad de efs selección, si por algún motivo desde javascript se estaba agregando dinámicamente nuevas opciones a esos efs, se lanzará una excepción de seguridad al recibirlo en PHP. La forma correcta de hacer un comportamiento así es utilizar el esquema de cascadas o directamente hacer un nuevo pedido de página al server y recargar el ef con el nuevo valor.
</li><li>Cambios a la zona: Por motivos de seguridad a partir de esta versión el <i>editable</i> que propaga la zona (por ej. id del registro editado) ya no se pasará por URL sino que se propagará por sesión. En caso de contar con vínculos creados manualmente se deberán cambiar los mismos a un esquema manejado por eventos en php (ej. en el <tt>evt__cuadro__seleccionar</tt> de php cargar la zona). <a href='../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_referencia_trunk/aplicacion.php?ai=toba_referencia||1000065' title='Navega hacia el ejemplo en el proyecto online de referencia'>Ejemplo de propagación de Zona</a>
</li><li>En el CN, se cambio el método <tt>evt__limpieza_memoria</tt> por <tt>limpiar_memoria</tt> a secas, ya que no era un evento. Se incluye en la migracion la regla para convertir automáticamente la llamada. 
</li><li>Durante la migración se incluye un archivo <strong>proyecto.ini</strong> en la raiz del proyecto, este reemplaza a los archivos PROYECTO y VERSION y además agrega configuraciones útiles para el instalador y otras partes del sistema que funcionan sin metadatos. Estos archivos son eliminados por la migración para evitar duplicación.
</li></ul><h2 id="Versiones1.4">Versiones 1.4</h2>
<p>
A continuación un detalle de los cambios realizados en la rama 1.4 luego de su lanzamiento:
<h3 id="a1.4.1">1.4.1</h3>
<ul><li>Bug cuando se hacía un pedido AJAX y se navegaba inmediatamente hacia otra página.
</li><li>Bug en cns, no estaban funcionando
</li><li>Bug item de consola, estaba tirando una excepción al intentar registrar el acceso en la tabla correspondiente
</li><li>Se mueve la definicion de la constante apex_ef_no_seteado a toba_nucleo.php
</li><li>Se corrige un detalle en la clase toba_notificacion.php
</li><li>Bug al agregar un usuario a la instancia
</li></ul><h3 id="a1.4.2">1.4.2</h3>
<ul><li>Bug en uso del ei_esquema con navegación ajax activada en windows. Al abrir un proceso para ejecutar graphviz durante un pedido ajax se cuelga el proceso y habia que reiniciar apache. Se desactiva la navegación ajax en las pantallas donde se usa este componente hasta encontrar una solución.
</li><li>Bug al querer crear un datos tabla en una fuente sin schema postgres definido
</li><li>Mejora al esquema de Google Analytics, ahora solo incluye la clase como consumo basico si es necesaria
</li></ul><p>
  
</p>
<h3 id="a1.4.3">1.4.3</h3>
<ul><li>Bugs migración desde toba 1.1 (mismos que en <a class="changeset" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/changeset/3981" title="Rama 1.3: Bugs migración desde toba 1.1">[3981]</a>)
</li><li>Bug asistente ABM
</li><li>Se cambia la librería captcha por una mejorcita :P. Se permite personalizar la imágen generada.
</li><li>Se corrige bug en la carga inicial de columnas externas del datos_tabla, faltaba verificar que existieran los parametros necesarios.
</li><li>Se incluye modificacion que permite fijar la semantica 'por defecto' del motor extendiendo y redefiniendo un metodo especifico. Contiene modificaciones necesarias para el punto anterior.
</li></ul><h3 id="a1.4.5">1.4.5</h3>
<ul><li>Bug toba_editor no guardaba en orden los eis de una pantalla
</li><li>Bug toba_editor al guardar eventos de una pantalla
</li><li>Bug toba_editor columnas externas del datos_tabla con carga SQL
</li><li>Bug ef_combo_editable en ML y filtro
</li><li>Bug mascaras y expresiones regulares editable_numero e hijos
</li><li>Bug parseo automatico de errores en fuentes via definicion
</li><li>Bug en IE en modo ajax al pasar las solapas del editor.
</li><li>Bug en carga masiva de columnas externas
</li><li>Bug ef_popup en PHP 5.3
</li><li>El modo confirmacion del menu salia siempre, esto rompia las cascadas de combos. Se cambio para ser enviado solo cuando viajo el menu.
</li><li>En IE la seleccion de totalizacion por corte de control en el cuadro fallaba.
</li><li>Correcciones al proyecto curso. Mejoras de interfaz, adaptación a las convenciones.
</li><li>Se agrega la posibilidad de setear en runtime cuando un evento es respuesta de popup o no
</li><li>Se corrige bug al posicionar la botonera del ML en la parte superior y tener la posibilidad de colapsar el formulario.
</li></ul><h3 id="a1.4.6">1.4.6</h3>
<ul><li>Bug phpmailer cuando se usaba un helo particular
</li><li>Bug migración en postgresql 8.1
</li><li>Bug al sincronizar dos veces en un mismo request filas no presentes en la base
</li></ul><h3 id="a1.4.8">1.4.8</h3>
<ul><li>Bug en el detectar cambios del formulario. Los checkbox tienen estado inicial null y no se estaban controlando.
</li><li>ef_html: Se agrega la funcionalidad de validar el obligatorio
</li><li>Bug en el datos_relacion. El persistidor no estaba desactivando el lock optimista de las tablas cuando se los deshabilitaba por metadatos.
</li><li>Bug ante una llamada ajax que se disparaba al utilizar un link directo a otra página. La respuesta nunca llegaba y hacía que emitiera un falso positivo.
</li><li>Bug en toba_mail, disparaba un warning cuando se especificaba a medias la seguridad de la conexion con el servidor smtp.
</li><li>Mejoras a la vista_pdf: Se dejan los mensajes de debug de ezPDF en el logger. Se incluye encabezado/pie de página al ejemplo de toba_referencia
</li></ul><h3 id="a1.4.9">1.4.9</h3>
<ul><li>Bug al retornar los msg del objeto, se devolvian valores distintos cuando se usaban metadatos compilados
</li><li>Bug en la sincronizacion por filas de la clases de persistencia, Cuando un registro era eliminado se borraba de la relacion_entre_tablas y quedaba invisible a las operaciones por cursor
</li><li>Bug al generar un esquema, no se desactivaba el reciclado de memoria
</li><li>Nueva API en toba_ci para resetear el cambio de pantalla
</li><li>Nueva API en formulario ml para poder ocultar el botón de agregar
</li><li>Nuevo método en el prototipo js del formulario ml para poder agregar código luego de la eliminación de una fila
</li><li>Cambios en el control de sincronización de svn
</li><li>Nueva API en toba_svn para verificar existencia del cliente svn
</li><li>Se agrega la vista_xml a los eis para que funcione la exportacion mediante xslfo
</li><li>Se permite mediante el editor de Ci poder seleccionar vista_xslfo como accion predefinida.
</li><li>Bug en la comparación del valor actual con el valor viejo de un campo del datos tabla, cuando se verifica si es un campo modificado 
</li><li>Se permite que toba_vista_xml reciba el xml de manera externa, brinda mas flexibilidad a toba_vista_xslfo.
</li><li>Bug al guardar la definicion de las cascadas de un ef. Por causas desconocidas no se limpiaba el maestro.
</li><li>Se arregla problema en el mensaje eof del cuadro que no permitia ocultarlo mediante JS.
</li><li>Bug en la obtención de la definición de los campos de una tabla. La consulta estaba trayendo campos duplicados y al normalizar los datos, se perdian datos relevantes.
</li><li>Nueva api para inyectar una autenticación personalizada <tt>toba::manejador_sesiones()-&gt;set_autenticacion($autentificacion);</tt>. Se brinda una autenticación de LDAP
</li><li><a class="closed ticket" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/ticket/706" title="enhancement: Migracion pilaga 1.3 (closed: fixed)">#706</a>: Se puede bypassear la validacion de maximo de un editable en php (merge 1.3 revisiones <a class="changeset" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/changeset/4462" title="faltaba self en la llamada al $callback_errores_validacion">[4462]</a> <a class="changeset" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/changeset/4463" title="se agrega el metodo controlador() a la clase toba_ef">[4463]</a> y <a class="changeset" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/changeset/4543" title="Se actualiza el metodo &#34;procesar_anidado&#34;, usado por Pilaga para procesar ...">[4543]</a>
</li><li>toba_db: Mediante el método exportar_registro, se permite exportar las consultas y ejecuciones realizadas en la base de datos. Previamente se debe habilitar el registro de las consultas -método activar_registro_consulta- y/o el registro de los comandos de ejecución -método activar_registro_ejecucion- a fin que se registren dichas operaciones. (merge rama 1.3 <a class="changeset" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/changeset/4553" title="Mediante el método exportar_registro, se permite exportar las consultas y ...">[4553]</a>)
</li><li>Agrega funcionalidad de aplanar cortes de control en un cuadro para la salida excel. (merge 1.3 revision <a class="changeset" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/changeset/4637" title="Agrega funcionalidad de aplanar cortes de control en un cuadro para la ...">[4637]</a>)
</li><li>Bug notice en el datos_tabla al procesar campos no definidos 
</li><li>Agrego el seteo de la propiedad enableFilteringMode para el ef ef_combo_editable (set_modo_filtrado($estado)).
</li><li>Bug en el detectar cambios del formulario_ml. Los checkbox tienen estado inicial null y no se estaban controlando.
</li><li>Se modifica la clase toba_varios para solucionar una incompatibilidad con PHP 5.3
</li><li>Se modifica el metodo get_info_relacion_entre_tablas de toba_proyecto.php para solucionar un problema surgido en Diaguita con los perfiles de datos
</li><li>Se modifica el formulario a fin de que el ef_fieldset se cierre correctamente
</li></ul><p>
 
</p>
<h3 id="a1.4.10">1.4.10</h3>
<ul><li>Bug en toba_ap_tabla_db, no se contemplaban los cambios hechos por el evt<span class="underline">pre_update al momento de definir los cambios 'reales' a las columnas.
</li><li>Se agrega el metodo que permite modificar obligatoriedad de un ef. 
</li><li>Bug salida excel con porcentajes
</li><li>Bug en toba_menu_yui a consecuencia de cambio en el padre quedo una redeclaracion de variable con scope distinto, se quita la redeclaracion y se hereda.
</li></ul><p>
  
</span></p>
<h3 id="a1.4.11">1.4.11</h3>
<ul><li>Se borra el archivo de sesión viejo cuando se desloguea. Antes permitia que, sabiendo el id de la sesión, puedas ingresar aún despues de desloguearte
</li><li>Se modifica la clase js que maneja los ef_fecha para recuperar de manera estandar el elemento sobre el cual se dispara el evento de click.
</li><li>Se modifica la clase toba_ei para arreglar el colapsado de los componentes, funcionaba mal cuando el componente no tenia botones (ei_cuadro).
</li></ul><h3 id="a1.4.12">1.4.12</h3>
<ul><li>Nueva version libreria phpExcel
</li><li>Parametro opcional al filtrar de los perfiles de datos que permite desactivar una dimensión
</li><li>Bug editor de restricciones funcionales cuando habia etiquetas con html
</li></ul><p>
 
</p>

</p>

        
        
      </div>
          <h3>Attachments</h3>
          <ul>
              <li>
      <a href="../../attachment/wiki/Versiones/1.4.0/salir_transaccion.html" title="View attachment">salir_transaccion.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.4.0/salir_transaccion.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="19706 bytes">19.2 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-06-24T16%3A48%3A51-0300&amp;precision=second" title="2009-06-24T16:48:51-0300 in Timeline">17 months</a> ago.
              </li>
              <li>
      <a href="../../attachment/wiki/Versiones/1.4.0/menu.html" title="View attachment">menu.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.4.0/menu.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="2417 bytes">2.4 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-06-24T17%3A01%3A58-0300&amp;precision=second" title="2009-06-24T17:01:58-0300 in Timeline">17 months</a> ago.
              </li>
              <li>
      <a href="../../attachment/wiki/Versiones/1.4.0/layout_form.html" title="View attachment">layout_form.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.4.0/layout_form.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="26880 bytes">26.2 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-06-24T17%3A16%3A12-0300&amp;precision=second" title="2009-06-24T17:16:12-0300 in Timeline">17 months</a> ago.
              </li>
              <li>
      <a href="../../attachment/wiki/Versiones/1.4.0/layout_referencia.html" title="View attachment">layout_referencia.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.4.0/layout_referencia.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="48667 bytes">47.5 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-06-25T18%3A50%3A53-0300&amp;precision=second" title="2009-06-25T18:50:53-0300 in Timeline">17 months</a> ago.
              </li>
              <li>
      <a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/attachment/wiki/Versiones/1.4.0/login_popup.png" title="View attachment">login_popup.png</a>
      <a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/raw-attachment/wiki/Versiones/1.4.0/login_popup.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="46911 bytes">45.8 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-06-25T18%3A57%3A00-0300&amp;precision=second" title="2009-06-25T18:57:00-0300 in Timeline">17 months</a> ago.
              </li>
              <li>
      <a href="../../attachment/wiki/Versiones/1.4.0/iconos-extra.html" title="View attachment">iconos-extra.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.4.0/iconos-extra.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="2448 bytes">2.4 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-06-25T19%3A03%3A49-0300&amp;precision=second" title="2009-06-25T19:03:49-0300 in Timeline">17 months</a> ago.
              </li>
              <li>
      <a href="../../attachment/wiki/Versiones/1.4.0/cuadro-seleccion-multiple.html" title="View attachment">cuadro-seleccion-multiple.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.4.0/cuadro-seleccion-multiple.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="6021 bytes">5.9 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-06-25T19%3A16%3A41-0300&amp;precision=second" title="2009-06-25T19:16:41-0300 in Timeline">17 months</a> ago.
              </li>
              <li>
      <a href="../../attachment/wiki/Versiones/1.4.0/perdida-sinc.html" title="View attachment">perdida-sinc.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.4.0/perdida-sinc.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="15832 bytes">15.5 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-06-26T11%3A17%3A56-0300&amp;precision=second" title="2009-06-26T11:17:56-0300 in Timeline">17 months</a> ago.
              </li>
              <li>
      <a href="../../attachment/wiki/Versiones/1.4.0/barra.html" title="View attachment">barra.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.4.0/barra.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="33034 bytes">32.3 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-06-26T13%3A48%3A03-0300&amp;precision=second" title="2009-06-26T13:48:03-0300 in Timeline">17 months</a> ago.
              </li>
              <li>
      <a href="../../attachment/wiki/Versiones/1.4.0/layout_pantalla.html" title="View attachment">layout_pantalla.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.4.0/layout_pantalla.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="26231 bytes">25.6 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-06-26T14%3A01%3A41-0300&amp;precision=second" title="2009-06-26T14:01:41-0300 in Timeline">17 months</a> ago.
              </li>
              <li>
      <a href="../../attachment/wiki/Versiones/1.4.0/sincro_svn.html" title="View attachment">sincro_svn.png</a>
      <a href="../../raw-attachment/wiki/Versiones/1.4.0/sincro_svn.png" title="Download" class="trac-rawlink"><img src="../../chrome/common/download.png" alt="Download" /></a>
      (<span title="16061 bytes">15.7 KB</span>) - added by <em>seba</em>
      <a class="timeline" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/timeline?from=2009-07-08T09%3A45%3A32-0300&amp;precision=second" title="2009-07-08T09:45:32-0300 in Timeline">17 months</a> ago.
              </li>
          </ul>
    </div>
    <script type="text/javascript">
        jQuery.loadStyleSheet("../../pygments/trac.css", "text/css");
    </script>
    <div id="altlinks">
      <h3>Download in other formats:</h3>
      <ul>
        <li class="last first">
          <a rel="nofollow" href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/wiki/Versiones/1.4.0?format=txt">Plain Text</a>
        </li>
      </ul>
    </div>
    </div>
    <div id="footer" lang="en" xml:lang="en"><hr />
      <a id="tracpowered" href="../../../../external.html?link=http://trac.edgewall.org/"><img src="../../chrome/common/trac_logo_mini.png" height="30" width="107" alt="Trac Powered" /></a>
      <p class="left">
        Powered by <a href="../../../../external.html?link=https://repositorio.siu.edu.ar/trac/toba/about"><strong>Trac 0.11.7</strong></a><br />
        By <a href="../../../../external.html?link=http://www.edgewall.org/">Edgewall Software</a>.
      </p>
      <p class="right">Creado por SIU<br /><a href="../../../../external.html?link=http://www.siu.edu.ar/">http://www.siu.edu.ar</a></p>
    </div>
    <div id="sitefooter">
    </div>
<script type="text/javascript">
if (document.getElementById('link_php')) {
document.getElementById('link_php').onclick = function() {
    location.href = '../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_editor_trunk/doc/api/index.html';
    return false;
}
document.getElementById('link_js').onclick = function() {
    location.href = '../../../../external.html?link=http://desarrollos.siu.edu.ar/toba_editor_trunk/doc/api_js/index.html';
    return false;
}
document.getElementById('link_wiki').onclick = function() {
    location.href = '../Referencia.html';
    return false;
}
}
</script>
  </body>
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8"><!-- /Added by HTTrack -->
</html>