<!DOCTYPE html
    PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
 <title>Referencia/CelulaDesarrollo - SIU-Toba - Trac</title><link rel="start" href="../../wiki.html" /><link rel="search" href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/search" /><link rel="help" href="../TracGuide.html" /><link rel="stylesheet" href="../../chrome/common/css/trac.css" type="text/css" /><link rel="stylesheet" href="../../chrome/common/css/wiki.css" type="text/css" /><link rel="icon" href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/favicon.ico" type="image/x-icon" /><link rel="shortcut icon" href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/favicon.ico" type="image/x-icon" /><link rel="alternate" href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/wiki/Referencia/CelulaDesarrollo?format=txt" title="Plain Text" type="text/plain" /><style type="text/css">
.wikipage h2 {border-bottom: 1px solid gray;}
</style>
 <script type="text/javascript" src="../../chrome/common/js/trac.js"></script>
</head>
<body>


<div id="banner">

<div id="header"><a id="logo" href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba"><img src="../../chrome/site/logo_toba_siu.gif" width="282" height="90" alt="Toba" /></a><hr /></div>

<form id="search" action="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/search" method="get">
 <div>
  <label for="proj-search">Search:</label>
  <input type="text" id="proj-search" name="q" size="10" accesskey="f" value="" />
  <input type="submit" value="Search" />
  <input type="hidden" name="wiki" value="on" />
  <input type="hidden" name="changeset" value="on" />
  <input type="hidden" name="ticket" value="on" />
 </div>
</form>



<div id="metanav" class="nav"><ul><li class="first"><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/login">Login</a></li><li><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/settings">Settings</a></li><li><a href="../TracGuide.html" accesskey="6">Help/Guide</a></li><li class="last"><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/about" accesskey="9">About Trac</a></li></ul></div>
</div>

<div id="mainnav" class="nav"><ul><li class="active first"><a href="../../wiki.html" accesskey="1">Wiki</a></li><li><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/timeline" accesskey="2">Timeline</a></li><li><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/roadmap" accesskey="3">Roadmap</a></li><li><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/browser">Browse Source</a></li><li><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/report">View Tickets</a></li><li class="last"><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/search" accesskey="4">Search</a></li></ul></div>
<div id="main">




<div id="ctxtnav" class="nav">
 <h2>Wiki Navigation</h2>
 <ul>
  <li><a href="../../wiki.html">Start Page</a></li>
  <li><a href="../TitleIndex.html">Title Index</a></li>
  <li><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/wiki/RecentChanges">Recent Changes</a></li>
  
   <li class="last"><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/wiki/Referencia/CelulaDesarrollo?action=history">Page History</a></li>
  
 </ul>
 <hr />
</div>

<div id="content" class="wiki">

 
  
  
   <div class="wikipage">
    <div id="searchable"><p>
<a href="../WikiStart.html">Inicio</a> / <a href="../Referencia.html">Referencia</a> / CelulaDesarrollo
</p>
<h1 id="CelulasoGruposdeDesarrollo">Celulas o Grupos de Desarrollo</h1>
<h2 id="ElProblema">El Problema</h2>
<p>
El desarrollo de toba se hace sobre una <a class="wiki" href="Instancia.html">Instancia</a>, esta corre sobre una o más bases de datos relacionales. Cuando uno crea objetos u items se crean registros en esta base de datos representandolos. Tener una base de datos centralizada permite que varios desarrolladores en un mismo grupo trabajen forma simultánea sobre la misma, dejando que el motor controle la concurrencia de las operaciones.
</p>
<p>
Cuando se cuenta con más de un grupo muchas veces no es posible contar una base centralizada, especialmente cuando hay diferencias geográficas de por medio. Por lo que en general cada grupo cuenta con su propio motor exportando las definiciones en forma cotidiana al sistema de archivos, dejando que SVN se encargue del versionado y control de concurrencia de los mismos.
</p>
<p>
En este último esquema hay una traba grande, supogamos que dos grupos digamos Tandil y Bahía estén creando al mismo tiempo ítems separados para el mismo proyecto. Ocurriría lo siguiente
</p>
<ol><li>Los dos grupos empiezan a desarrollar, teniendo como último item creado el número 49.
</li><li>El grupo Tandil crea un ítem, se le asigna el id 50 
</li><li>Al mismo tiempo el grupo Bahía crea un ítem, también se le asigna el id 50 porque el motor local no tiene forma de comunicarse con el de Tandil y saber que ese número ya fue consumido.
</li><li>Los dos grupos exportan sus metadatos e intentan subirlo, ahí se produce un conflicto porque ambos quieren subir un item con el mismo Id con contenido totalmente distintos.
</li></ol><p>
Este problema ocurre para todos los componentes que usan identificadores automáticos como secuencias (en postgres) o campos autoincrements. 
</p>
<h2 id="Lasolución">La solución</h2>
<p>
La limitante a nivel técnico es que cada grupo utiliza las secuencias como forma unívoca de identificación, si cada grupo manejara un conjunto de identificadores separado, el problema no existiría, por ejemplo si se reservaran un millón de identificadores para cada uno:
</p>
<ol><li>Los dos grupos empiezan a desarrollar, Bahía maneja los IDs desde 1.000.0000 hasta 2.000.000 y Tandil desde 2.000.000 hasta 3.000.000
</li><li>El grupo Tandil crea un ítem, se le asigna el id 2.000.001
</li><li>Al mismo tiempo el grupo Bahía crea un ítem, también se le asigna el id 1.000.001 
</li><li>Los dos grupos exportan sus metadatos y los suben sin problemas
</li></ol><h2 id="Configuración">Configuración</h2>
<p>
En el archivo <tt>$toba_dir/instalacion/info_instalacion.php</tt> se encuentra el método get_id_grupo_desarrollo() este debe retornar el código de cada célula o grupo. La convención inicial es que:
</p>
<ul><li>Capital utiliza: 0
</li><li>Bahía utiliza: 1
</li><li>Tandil utiliza: 2
</li></ul><p>
Es importante que todos los desarrolladores de cada grupo constate el estado de esta configuración, ya que si alguno posee una configuración distinta o no tiene ninguna puede traer problemas de sincronización a todo el proyecto.
</p>
</div>
   </div>
   
  
  <script type="text/javascript">
   addHeadingLinks(document.getElementById("searchable"));
  </script>
 
 
</div>

<script type="text/javascript">searchHighlight()</script>
<div id="altlinks"><h3>Download in other formats:</h3><ul><li class="first last"><a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/wiki/Referencia/CelulaDesarrollo?format=txt">Plain Text</a></li></ul></div>

</div>

<div id="footer">
 <hr />
 <a id="tracpowered" href="../../../../external.html?link=http://trac.edgewall.com/"><img src="../../chrome/common/trac_logo_mini.png" height="30" width="107"
   alt="Trac Powered"/></a>
 <p class="left">
  Powered by <a href="../../../../external.html?link=https://desarrollos2.siu.edu.ar/trac/toba/about"><strong>Trac 0.9.2</strong></a><br />
  By <a href="../../../../external.html?link=http://www.edgewall.com/">Edgewall Software</a>.
 </p>
 <p class="right">
  Creado por el Programa SIU<br /><a href="../../../../external.html?link=http://www.siu.edu.ar/">http://www.siu.edu.ar</a>
 </p>
</div>



 </body>
</html>

